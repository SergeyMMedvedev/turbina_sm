{"version":3,"sources":["components/Header/StreamServiceLink.js","components/svg/LinksCloseIcon.js","components/Header/StreamServices.js","components/svg/TelegramIcon.js","configs/links.js","components/svg/InstagramIcon.js","components/svg/FacebookIcon.js","components/svg/VkontakteIcon.js","components/Header/MarshakLink.js","components/svg/HamburgerIcon.js","components/svg/MarshakLogo.js","components/Header/Marshak.js","components/Header/Header.js","images/turbina.svg","components/ProjectLogo.js","hooks/useAudioPlayer.js","utils/throttle.js","hooks/useTicker.js","components/Player/PlayerTimeline.js","utils/formatDuration.js","components/Player/PlayerTimer.js","components/svg/PlayIcon.js","components/svg/PauseIcon.js","components/Player/ControlBtn.js","components/svg/BackwardIcon.js","components/Player/BackwardBtn.js","components/svg/ForwardIcon.js","components/Player/ForwardBtn.js","utils/renderFrame3.js","utils/visualize.js","components/Player/PlayerController.js","utils/switchAnimation.js","components/Player/PlayerSwitcher.js","components/svg/ExtendRoundIcon.js","components/svg/CloseRoundIcon.js","components/svg/ArrowIcon.js","components/Player/ExtendBtn.js","components/Player/PlayerTrack.js","components/Player/PlayerInfoContent.js","components/Player/PlayerInfoContainer.js","components/svg/ClipBtnIcon.js","components/Player/VideoBtn.js","components/Player/Spinner.js","images/note-round-icon.svg","components/Player/PlayerCover.js","db/audio/Контур любви — Хадн дадн feat. Варя Карпова и Федя Быстров.mp3","images/background.png","images/background-new.png","images/four_new_tracks.jpeg","images/love_outline_cover.jpg","db/audio/Природа — Jerk feat. Федя Быстров.mp3","db/audio/Конец света — TYAGOTENIE feat. Варя Карпова.mp3","db/audio/Белочки — Бабба feat. Варя Карпова.mp3","db/tracks.js","db/audio/У белого кота — Света Лукьянова feat. Никита Тугумов.mp3","components/Player/Player.js","components/Main.js","components/TextContainer.js","components/TextBlock.js","hooks/useFormWithValidation.js","utils/setCustomValidity.js","utils/Api.js","components/Form.js","components/Info.js","components/Footer/MarshakNavigation.js","components/Footer/SocialNetworks.js","components/Footer/Footer.js","utils/transformElement.js","components/Background.js","utils/simpleThrottle.js","components/Blur.js","components/VideoModal.js","images/background-blur.jpg","components/VisualizerCanvas.js","components/App.js","reportWebVitals.js","index.js"],"names":["StreamServiceLink","serviceLabel","serviceLink","style","className","href","target","rel","LinksCloseIcon","width","height","viewBox","fill","xmlns","x1","y1","x2","y2","stroke","strokeWidth","StreamServices","isMobile","isLandscape","isPlayerExtend","serviceLinks","currentTrack","streamings","useState","isLinksMounted","setIsLinksMounted","isLinksHidden","setIsLinksHidden","AnimatedStreamServiceLink","animated","mobileConfig","config","mass","tension","friction","to","opacity","x","from","reverse","onRest","trail","useTrail","length","serviceLinksProps","map","link","i","linkProps","Object","assign","useEffect","cn","type","onClick","items","enter","initial","keys","values","item","span","TelegramIcon","liveLink","title","src","youtubeId","yandexPraktikumLink","marshakLinks","marshakLabel","marshakLink","marshakNavLinks","socialNetworks","name","IconElement","d","fillRule","clipRule","MarshakLink","marshakLinkTarget","HamburgerIcon","MarshakLogo","Marshak","isTablet","useMediaQuery","query","inHover","setHover","showLinksCondition","AnimatedMarshakLink","animationConfig","marshakLinksProps","onMouseEnter","onMouseLeave","Header","onVideoModalOpen","blur","ProjectLogo","titleStyle","logo","alt","useAudioPlayer","audioPlayerRef","track","onTrackEnd","isLoaded","setLoadedState","duration","setDuration","curTime","setCurTime","isPlaying","setPlaying","clickedTime","setClickedTime","current","play","catch","_","pause","currentTime","console","log","handlePlayClick","handleTimeUpdate","handleLoadedMetaData","handleTrackEnd","throttle","func","ms","savedArgs","savedThis","isThrottled","wrapper","arguments","apply","setTimeout","useTicker","elementRef","containerTickerAddClass","dependences","isTickerNeeded","setTickerState","handleResize","element","elementContainer","parentElement","elementWidth","scrollWidth","elementContainerWidth","clientWidth","delay","a","Promise","resolve","checkIsTickerNeeded","handleResizeThrottled","window","addEventListener","removeEventListener","intervalId","setIntervalId","currentX","classList","add","currentIntervalId","setInterval","left","remove","clearInterval","PlayerTimeline","onTimeUpdate","timelineRef","useRef","curPercentage","calculateClickedTime","e","timeline","timelineWidth","timelineStart","getBoundingClientRect","pageX","onMouseDown","updateTimeOnMove","eMove","document","handleMouseUp","handleTimeDrag","ref","formatDuration","minutes","Math","floor","seconds","PlayerTimer","PlayIcon","PauseIcon","ControlBtn","onBtnClick","BackwardIcon","transform","y","rx","BackwardBtn","ForwardIcon","ForwardBtn","renderFrame","analyser","context2d","freqByteData","analyzerCanvas","audio","Particle","opt","this","vx","random","vy","size","life","dead","alpha","rotate","color","update","render","ctx","dot","gA","globalAlpha","fillStyle","beginPath","arc","PI","save","translate","rect","restore","option","maxHeight","fadeSide","particle","shadowBlur","shadowColor","minHeight","spacing","prettify","maxParticle","circleRadius","showProgress","particles","canvas","requestAnimationFrame","loop","clientHeight","scale","globalCompositeOperation","getByteFrequencyData","__width","__height","__color","__offsetX","__circlebarOption","__fadeSide","__freqByteData","horizontalAlign","Array","concat","slice","__rebuildData","__angle","__particle","__maxParticle","__showProgress","__progress","clearRect","find","p","shift","deg","push","sin","cos","forEach","renderStyle","index","value","closePath","strokeStyle","lineWidth","lineCap","drawProgress","visualize","setAudioCtx","startsWith","location","Error","context","AudioContext","audioSrc","createMediaElementSource","createAnalyser","getContext","fftSize","Uint8Array","frequencyBinCount","connect","destination","webkitAudioContext","PlayerController","isVideoModalOpened","onForwardClick","onBackwardClick","refanalyzerCanvas","trackRef","audioCtx","state","resume","preload","onLoadedMetadata","onEnded","trackName","author","originalAuthor","time","cnWithSwitchAnimation","PlayerSwitcher","isTextInfo","ExtendRoundIcon","CloseRoundIcon","ArowIcon","isRotated","ExtendBtn","isOpen","ArrowIcon","PlayerTrack","onTrackClick","inList","checked","trackId","id","trackStyle","PlayerInfoContent","tracks","text","split","line","setSongLyrics","setReleaseList","PlayerInfoContainer","isLoading","isBigDesktop","isDesktop","isSmallMobileLandscape","defineScrollbarHeight","scrollbarHeight","setScrollbarHeight","renderView","props","overflowX","renderThumbVertical","renderTrackVertical","renderTrackHorizontal","display","hideTracksWhenNotNeeded","ClipBtnIcon","mask","VideoBtn","videoLink","Spinner","isImageLoaded","paddingBottom","PlayerCover","image","setLoadState","imageLink","gag","imageRef","complete","onLoad","theme","backgroundColor","backgroundImage","newBackground","albumPicture","fourNewTracksCover","squirrels","doomsday","nature","loveOutline","defaultBackground","loveOutlineCover","Player","onPlayerExtend","onSetCurrentTrack","setTextInfo","isExtendElementsMounted","setIsExtendElementsMounted","extendPlayerAnimationConfig","useSpring","indexOf","currentTrackIndex","setCurrentTrackIndex","AnimatedPlayerCover","div","Main","isNarrowDesktop","isShortMobile","isTallMobile","isMobileLandscape","AnimatedPlayer","extendСonfig","calcExtendedHeight","calcDefaultHeight","TextContainer","children","TextBlock","useFormWithValidation","setCustomValidity","age","email","tel","offer","setValues","errors","setErrors","isFormValid","setIsFormValid","resetForm","useCallback","newValues","newErrors","newIsFormValid","handleChange","evt","isCheckbox","validationMessage","closest","checkValidity","validity","valid","valueMissing","patternMismatch","tooShort","minLength","tooLong","maxLength","rangeOverflow","rangeUnderflow","min","max","api","options","_url","url","_headers","headers","res","ok","json","reject","status","URLSearchParams","k","set","fetch","getData","then","_getResponseData","formData","method","body","_prepareBody","Form","React","isSubmitted","setIsSubmitted","isSuccess","setIsSuccess","isErrorVisible","setIsErrorVisible","isMusician","setIsMusician","inputNameStyle","inputAgeStyle","inputTelStyle","inputEmailStyle","inputTextStyle","onSubmit","preventDefault","submitForm","err","noValidate","htmlFor","onChange","placeholder","required","pattern","disabled","Info","MarshakNavigation","links","SocialNetworks","Footer","transformElement","windowWidth","innerWidth","windowHeight","innerHeight","round","clientX","clientY","deflector","backgroundPosition","Background","bgElementRef","throttlingTransform","callback","limit","waiting","rest","leave","Blur","blurLayerStyle","VideoModal","videoModalData","onVideoModalClose","videoPlayer","setVideoPlayer","load","YTPlayer","allowFullScreen","VisualizerCanvas","App","setPlayerState","setCurrentTrack","playerExtendTimer","setPlayerExtendTimer","setIsVideoModalOpened","setVideoModalData","clearTimeout","backgroundBlur","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.722d32d7.chunk.js","sourcesContent":["import './StreamServiceLink.css';\r\nimport '../../style-mixes/main-link/main-link.css'\r\n\r\nfunction StreamServiceLink({ serviceLabel, serviceLink, style }) {\r\n  return (\r\n    <li className=\"stream-services-link-container\" style={style}>\r\n      <a\r\n        className=\"main-link main-link_type_common\"\r\n        href={serviceLink}\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        {serviceLabel} ↗\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default StreamServiceLink;\r\n","export default function LinksCloseIcon() {\r\n  return (\r\n    <svg\r\n      width=\"18\"\r\n      height=\"18\"\r\n      viewBox=\"0 0 19 19\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <line\r\n        x1=\"4.9034\"\r\n        y1=\"4.90373\"\r\n        x2=\"14.0958\"\r\n        y2=\"14.0961\"\r\n        stroke=\"white\"\r\n        strokeWidth=\"2\"\r\n      />\r\n      <line\r\n        x1=\"4.90422\"\r\n        y1=\"14.0961\"\r\n        x2=\"14.0966\"\r\n        y2=\"4.90373\"\r\n        stroke=\"white\"\r\n        strokeWidth=\"2\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import './StreamServices.css';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useTrail, animated, Transition } from 'react-spring';\r\nimport cn from 'classnames';\r\n\r\nimport StreamServiceLink from './StreamServiceLink';\r\nimport LinksCloseIcon from '../svg/LinksCloseIcon';\r\n\r\nfunction StreamServices({ isMobile, isLandscape, isPlayerExtend, currentTrack }) {\r\n  const serviceLinks = currentTrack.streamings\r\n  /* Разделение между стейтами isLinksMounted и isLinksHidden сделано для корректной анимации.\r\n  Ссылки должны размонтироваться по окончании анимации, иначе анимации не будет. */\r\n  const [isLinksMounted, setIsLinksMounted] = useState(false);\r\n  const [isLinksHidden, setIsLinksHidden] = useState(true);\r\n\r\n  const handleServiceButtonClick = () => {\r\n    setIsLinksHidden(!isLinksHidden);\r\n    setIsLinksMounted(true);\r\n  };\r\n\r\n  /* Создаем анимированную компоненту из обычной */\r\n  const AnimatedStreamServiceLink = animated(StreamServiceLink);\r\n\r\n  /* Конфиг для анимации ссылок на широком экране. \r\n  Сейчас конфиг обеспечивает статичное отображение при загрузке страницы */\r\n  const desktopConfig = {\r\n    opacity: 1,\r\n    x: 0\r\n  };\r\n\r\n  /* Конфиг для анимации ссылок на узких экранах. \r\n  Меняются прозрачность и смещение по горизонтали*/\r\n  const mobileConfig = {\r\n    config: { mass: 1, tension: 200, friction: 18 },\r\n    to: {\r\n      opacity: !isLinksHidden ? 1 : 0,\r\n      x: !isLinksHidden ? 0 : -50\r\n    },\r\n    from: {\r\n      opacity: 0,\r\n      x: -50\r\n    },\r\n    reverse: isLinksHidden,\r\n    onRest: () => {\r\n      if (isLinksHidden) {\r\n        setIsLinksMounted(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  /* Массив с объектами пропсов для анимации каждой ссылки */\r\n  const trail = useTrail(serviceLinks.length, (isMobile || isLandscape) ? mobileConfig : desktopConfig);\r\n\r\n  /* Сборка объектов с полным набором пропсов для будущих анимированных компонент.\r\n  Объединяются пропсы для анимации и обычные пропсы (название и адрес ссылки).\r\n  Объектов в массиве столько, сколько ссылок на стриминговые сервисы. */\r\n  const serviceLinksProps = serviceLinks.map((link, i) => {\r\n    const linkProps = {};\r\n    Object.assign(linkProps, link, trail[i]);\r\n    return linkProps;\r\n  });\r\n\r\n  /* Для маленьких экранов и landscape: если пользователь развернул ссылки и открыл плеер, \r\n  то сворачиваем ссылки, чтобы дать плееру полностью выехать*/\r\n  useEffect(() => {\r\n    if (isPlayerExtend && (isMobile || isLandscape)) {\r\n      setIsLinksHidden(true);\r\n      setIsLinksMounted(false);\r\n    }\r\n  }, [isPlayerExtend, isLandscape, isMobile]);\r\n\r\n  return (\r\n    <div className=\"stream-services\">\r\n      {(isMobile || isLandscape) && (\r\n        <button\r\n          className={cn(\"stream-services__button\", {\r\n            \"stream-services__button_minimised\": !isLinksHidden,\r\n          })}\r\n          type=\"button\"\r\n          onClick={handleServiceButtonClick}\r\n        >\r\n          <Transition\r\n            items={isLinksHidden ? \"Стриминги\" : <LinksCloseIcon />}\r\n            from={{ opacity: 0 }}\r\n            enter={{ opacity: 1 }}\r\n            initial={{ opacity: 1 }}\r\n            config={{ mass: 1, tension: 140, friction: 30 }}\r\n            keys={() => (isLinksHidden ? 1 : 2)} // убираем лишние рендеры для animated.span\r\n          >\r\n            {(values, item) => (\r\n              <animated.span style={values}>{item}</animated.span>\r\n            )}\r\n          </Transition>\r\n        </button>\r\n      )}\r\n\r\n      {(isLinksMounted || !(isMobile || isLandscape)) && (\r\n        <ul className=\"stream-services__links\">\r\n          {serviceLinksProps.map((item, i) => (\r\n            <AnimatedStreamServiceLink\r\n              key={i}\r\n              serviceLabel={item.serviceLabel}\r\n              serviceLink={item.serviceLink}\r\n              style={{\r\n                ...item,\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StreamServices;\r\n","function TelegramIcon ({\r\n  className = \"\",\r\n  width=\"100%\",\r\n  height=\"100%\",\r\n  fill=\"#fff\"\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 23 19\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"m6.75395,6.316973c-1.753,0.74 -3.554,1.499 -5.202,2.375c-0.86,0.609 0.283,1.04 1.356,1.443c0.17,0.064 0.339,0.127 0.497,0.19l0.403,0.123c1.192,0.367 2.523,0.777 3.68,0.16c1.903,-1.055 3.698,-2.275 5.492,-3.495c0.588,-0.4 1.176,-0.799 1.767,-1.192l0.093,-0.058c0.503,-0.315 1.636,-1.025 1.217,-0.047c-0.99,1.046 -2.052,1.972 -3.119,2.904c-0.719,0.628 -1.44,1.258 -2.145,1.928c-0.613,0.482 -1.25,1.45 -0.564,2.125c1.583,1.07 3.19,2.114 4.796,3.158c0.523,0.339 1.046,0.679 1.567,1.019c0.884,0.682 2.266,0.13 2.46,-0.935l0.26,-1.47c0.48,-2.709 0.96,-5.418 1.383,-8.135c0.058,-0.427 0.123,-0.853 0.189,-1.28c0.158,-1.033 0.317,-2.067 0.366,-3.106c-0.128,-1.037 -1.43,-0.81 -2.154,-0.576c-3.723,1.368 -7.409,2.838 -11.08,4.334c-0.416,0.178 -0.837,0.356 -1.262,0.535z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default TelegramIcon;\r\n","import FacebookIcon from \"../components/svg/FacebookIcon\";\r\nimport InstagramIcon from \"../components/svg/InstagramIcon\";\r\nimport VkontakteIcon from \"../components/svg/VkontakteIcon\";\r\nimport TelegramIcon from \"../components/svg/TelegramIcon\";\r\n\r\n// TODO обновить ссылку на стрим (src + youtubeId)\r\n\r\n// Ссылка на Live трансляцию на youtube\r\nconst liveLink = {\r\n  title: 'Прямое включение с семейного фестиваля «Вселенная книг»',\r\n  src: 'https://www.youtube.com/embed/OVPPOwMpSpQ',\r\n  // идентификатор видео (часть ссылки на youtube, после 'embed/'):\r\n  youtubeId: 'OVPPOwMpSpQ', \r\n};\r\n\r\n// Ссылка на главную страницу Маршак (используется для логотипа в хедере)\r\nconst marshakMainLink = 'https://marshakbooks.ru/';\r\n\r\n// Ссылка на Яндекс.Практикум - Создание сайтов для НКО\r\nconst yandexPraktikumLink = {\r\n  title: 'Яндекс.Практикума',\r\n  link:'https://www.notion.so/de0ecc64f8134e178448dcbc6382046e',\r\n};\r\n\r\n// Ссылки, появляющиеся при наведении на логотип Маршака в хедере\r\nconst marshakLinks = [\r\n  {\r\n    marshakLabel: 'Книги',\r\n    marshakLink: 'https://marshakbooks.ru/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    marshakLabel: 'Одежда',\r\n    marshakLink: 'https://marshakbooks.ru/wear/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    marshakLabel: 'Музыка',\r\n    marshakLink: 'https://marshakbooks.ru/turbina/',\r\n    target: '_self',\r\n  },\r\n  {\r\n    marshakLabel: 'Школа',\r\n    marshakLink: 'https://marshakbooks.ru/school/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    marshakLabel: 'О нас',\r\n    marshakLink: 'https://marshakbooks.ru/о-нас/',\r\n    target: '_blank',\r\n  },\r\n];\r\n\r\n// Ссылки для футера\r\nconst marshakNavLinks = [\r\n  {\r\n    title: 'Книги',\r\n    link: 'https://marshakbooks.ru/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    title: 'Одежда',\r\n    link: 'https://marshakbooks.ru/wear/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    title: 'Музыка',\r\n    link: 'https://marshakbooks.ru/turbina/',\r\n    target: '_self',\r\n  },\r\n  {\r\n    title: 'Школа',\r\n    link: 'https://marshakbooks.ru/school/',\r\n    target: '_blank',\r\n  },\r\n  {\r\n    title: 'О нас',\r\n    link: 'https://marshakbooks.ru/о-нас/',\r\n    target: '_blank',\r\n  },\r\n];\r\n\r\n// Иконки соцсетей\r\nconst socialNetworks = [\r\n  {\r\n    name: 'Instagram',\r\n    link: 'https://www.instagram.com/marshak_books/',\r\n    IconElement: InstagramIcon,\r\n    className: 'social-networks__instagram',\r\n  },\r\n  {\r\n    name: 'Facebook',\r\n    link: 'https://www.facebook.com/marshakbooks/',\r\n    IconElement: FacebookIcon,\r\n    className: 'social-networks__facebook',\r\n  },\r\n  {\r\n    name: 'Vkontakte',\r\n    link: 'https://vk.com/marshakbooks',\r\n    IconElement: VkontakteIcon,\r\n    className: 'social-networks__vkontakte',\r\n  },\r\n  {\r\n    name: 'Telegram',\r\n    link: 'https://t.me/marshakbooks',\r\n    IconElement: TelegramIcon,\r\n    className: 'social-networks__telegram',\r\n  },\r\n]\r\n\r\nexport { marshakMainLink, marshakLinks, yandexPraktikumLink, marshakNavLinks, socialNetworks, liveLink };\r\n","function InstagramIcon ({\r\n  className = \"\",\r\n  width=\"100%\",\r\n  height=\"100%\",\r\n  fill=\"#fff\"\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 332 332\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M56.729 300.171c.564.07 1.146.185 1.719.264h215.104c1.401-.229 2.802-.432 4.186-.731 10.98-2.335 19.951-11.492 22.102-22.534.22-1.207.396-2.406.59-3.604V58.434c-.185-1.172-.353-2.362-.573-3.534-2.362-12.047-12.302-21.397-24.499-23.071-.511-.062-.996-.176-1.498-.264H58.139c-1.295.238-2.609.414-3.886.705-11.915 2.714-20.727 12.302-22.428 24.375-.07.502-.176 1.005-.255 1.507v215.712c.247 1.357.44 2.741.749 4.098 2.635 11.651 12.575 20.684 24.41 22.209zM224.123 64.348c0-6.089 4.829-10.945 10.892-10.954 8.469-.009 16.938 0 25.406 0 6.072.009 10.892 4.847 10.892 10.936v25.468c0 5.702-4.635 10.584-10.328 10.725-4.433.106-8.865.018-13.289.018v.053c-4.08 0-8.169.009-12.249.009-5.023-.026-9.13-2.776-10.654-7.253a12.308 12.308 0 01-.643-3.754c-.062-8.416-.036-16.832-.027-25.248zm-58.127 47.164c30.509-.018 55.114 25.186 54.452 55.677-.643 29.584-25.265 53.906-55.704 53.254-29.258-.626-53.659-24.781-53.228-55.272.415-29.679 24.658-53.676 54.48-53.659zM60.651 141.307v-.723h25.6c-6.662 22.789-4.847 44.75 6.512 65.662 7.632 14.038 18.559 24.922 32.474 32.721 27.539 15.457 61.705 13.906 87.649-3.772 10.002-6.812 18.189-15.387 24.49-25.715s10.178-21.503 11.597-33.514c1.419-12.011.308-23.794-3.313-35.373h25.662v.828c0 39.727.009 79.48 0 119.215 0 5.772-4.926 10.681-10.707 10.681-63.097.009-126.186.009-189.284 0-5.728 0-10.681-4.926-10.681-10.646-.008-39.787.001-79.575.001-119.364z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default InstagramIcon;\r\n","function FacebookIcon ({\r\n  className = \"\",\r\n  width=\"100%\",\r\n  height=\"100%\",\r\n  fill = \"#fff\"\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 32 32\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n      d=\"M18 32V18h6l1-6h-7V9c0-2 1.002-3 3-3h3V0h-5c-5 0-7 3-7 8v4H6v6h6v14h6z\"\r\n      fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default FacebookIcon;\r\n","function VkontakteIcon ({\r\n  className = \"\",\r\n  width=\"100%\",\r\n  height=\"100%\",\r\n  fill = \"#fff\"\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M475.515 137.899c3.16-10.674 0-18.53-15.2-18.53h-50.297c-12.809 0-18.702 6.746-21.861 14.261 0 0-25.617 62.422-61.825 102.899-11.698 11.699-17.078 15.457-23.482 15.457-3.158 0-8.027-3.758-8.027-14.432v-99.655c0-12.809-3.588-18.53-14.176-18.53h-79.075c-8.027 0-12.809 5.978-12.809 11.528 0 12.125 18.104 14.943 19.983 49.101v74.123c0 16.225-2.904 19.212-9.308 19.212-17.079 0-58.581-62.678-83.174-134.409-4.952-13.919-9.821-19.555-22.715-19.555H43.25c-14.346 0-17.25 6.746-17.25 14.261 0 13.32 17.079 79.502 79.502 166.945 41.587 59.689 100.167 92.056 153.453 92.056 32.022 0 35.951-7.173 35.951-19.555 0-57.045-2.903-62.425 13.152-62.425 7.428 0 20.237 3.757 50.127 32.534 34.155 34.158 39.792 49.445 58.92 49.445h50.297c14.347 0 21.606-7.173 17.421-21.351-9.564-29.801-74.208-91.114-77.111-95.213-7.429-9.564-5.295-13.835 0-22.375.087-.083 61.483-86.502 67.803-115.792z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default VkontakteIcon;\r\n","import './MarshakLink.css';\r\nimport '../../style-mixes/main-link/main-link.css';\r\n\r\nfunction MarshakLink({ marshakLabel, marshakLink, marshakLinkTarget, style }) {\r\n  return (\r\n    <li className=\"marshak-link-container\" style={style}>\r\n      <a\r\n        className=\"main-link main-link_type_common\"\r\n        href={marshakLink}\r\n        target={marshakLinkTarget}\r\n        rel=\"noreferrer\"\r\n      >\r\n        {marshakLabel}\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default MarshakLink;\r\n","export default function HamburgerIcon() {\r\n  return (\r\n    <svg\r\n      width=\"12\"\r\n      height=\"12\"\r\n      viewBox=\"0 0 12 12\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <line y1=\"1\" x2=\"12\" y2=\"1\" stroke=\"white\" strokeWidth=\"2\" />\r\n      <line y1=\"6\" x2=\"12\" y2=\"6\" stroke=\"white\" strokeWidth=\"2\" />\r\n      <line y1=\"11\" x2=\"12\" y2=\"11\" stroke=\"white\" strokeWidth=\"2\" />\r\n    </svg>\r\n  );\r\n}\r\n","function MarshakLogo ({\r\n  className = '',\r\n  width = 50,\r\n  height = 50,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg  \r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 35 35\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M0 1.39205V18.2955V35H35L33.7574 0H29.6154L28.5799 11.9318H20.503L19.8817 1.39205L14.0828 0.994318L14.9112 11.9318H6.21302L4.76331 0.994318L0 1.39205Z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default MarshakLogo;","import './Marshak.css';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport cn from 'classnames';\r\nimport { Transition, animated, useTrail } from 'react-spring';\r\n\r\nimport { marshakMainLink, marshakLinks } from '../../configs/links';\r\n\r\nimport MarshakLink from './MarshakLink';\r\nimport HamburgerIcon from '../svg/HamburgerIcon';\r\nimport LinksCloseIcon from '../svg/LinksCloseIcon';\r\nimport MarshakLogo from '../svg/MarshakLogo'\r\n\r\nfunction Marshak({ className, isMobile, isLandscape, isPlayerExtend }) {\r\n  const isTablet = useMediaQuery({ query: '(max-width: 768px)' });\r\n  const [inHover, setHover] = useState(false);\r\n  const [isLinksMounted, setIsLinksMounted] = useState(false);\r\n  const [isLinksHidden, setIsLinksHidden] = useState(true);\r\n  const showLinksCondition = (isTablet && !isLinksHidden) || (!isTablet && inHover);\r\n\r\n  const handleMouseEnter = () => {\r\n    if (!isTablet) {\r\n      setHover(true);\r\n      setIsLinksHidden(false);\r\n      setIsLinksMounted(true);\r\n    }\r\n  }\r\n\r\n  const handleMouseLeave = () => {\r\n    if (!isTablet) {\r\n      setHover(false);\r\n      setIsLinksHidden(true);\r\n    }\r\n  }\r\n\r\n  const handleHamburgerButtonClick = () => {\r\n    setIsLinksHidden(!isLinksHidden);\r\n    setIsLinksMounted(true);\r\n  }\r\n\r\n  const AnimatedMarshakLink = animated(MarshakLink);\r\n\r\n  const animationConfig = {\r\n    config: { mass: 1, tension: 200, friction: 18 },\r\n    to: {\r\n      opacity: !isLinksHidden ? 1 : 0,\r\n      x: !isLinksHidden ? 0 : 50\r\n    },\r\n    from: {\r\n      opacity: 0,\r\n      x: 50\r\n    },\r\n    reverse: isLinksHidden,\r\n    onRest: () => {\r\n      if (isLinksHidden) {\r\n        setIsLinksMounted(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const trail = useTrail(marshakLinks.length, animationConfig);\r\n\r\n  const marshakLinksProps = marshakLinks.map((link, i) => {\r\n    const linkProps = {};\r\n    Object.assign(linkProps, link, trail[i]);\r\n    return linkProps;\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isPlayerExtend && (isMobile || isLandscape)) {\r\n      setIsLinksHidden(true);\r\n      setIsLinksMounted(false);\r\n    }\r\n  }, [isPlayerExtend, isLandscape, isMobile]);\r\n\r\n  return (\r\n    <div\r\n      className={cn(\"marshak\", className)}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <div className=\"marshak__handlers\">\r\n        {isTablet && (\r\n          <button\r\n            className=\"marshak__button\"\r\n            type=\"button\"\r\n            onClick={handleHamburgerButtonClick}\r\n          >\r\n            <Transition\r\n              items={isLinksHidden ? <HamburgerIcon /> : <LinksCloseIcon/>}\r\n              from={{ opacity: 0 }}\r\n              enter={{ opacity: 1 }}\r\n              initial={{ opacity: 1 }}\r\n              config={{ mass: 1, tension: 120, friction: 30 }}\r\n              keys={() => (isLinksHidden ? 1 : 2)} // убираем лишние рендеры для animated.span\r\n            >\r\n              {(values, item) => (\r\n                <animated.span style={values}>{item}</animated.span>\r\n              )}\r\n            </Transition>\r\n          </button>\r\n        )}\r\n        <a\r\n          className=\"marshak__main-link\"\r\n          href={marshakMainLink}\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          <MarshakLogo className=\"marshak-logo\" />\r\n        </a>\r\n      </div>\r\n\r\n      {(isLinksMounted || showLinksCondition) && (\r\n        <ul className=\"marshak__links\">\r\n          {marshakLinksProps.map((item, i) => (\r\n            <AnimatedMarshakLink\r\n              key={i}\r\n              marshakLabel={item.marshakLabel}\r\n              marshakLink={item.marshakLink}\r\n              marshakLinkTarget={item.target}\r\n              style={{\r\n                ...item,\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Marshak;\r\n","import './Header.css';\r\nimport '../Blur.css';\r\nimport '../../style-mixes/main-button/main-button.css';\r\nimport '../../style-mixes/main-link/main-link.css';\r\n\r\nimport cn from 'classnames';\r\nimport AnchorLink from 'react-anchor-link-smooth-scroll'\r\n\r\nimport StreamServices from './StreamServices';\r\nimport Marshak from './Marshak';\r\nimport { liveLink } from '../../configs/links';\r\n\r\nfunction Header({ isPlayerExtend, isMobile, isLandscape, currentTrack, onVideoModalOpen }) {\r\n  const handleVideoModalOpen = () => {\r\n    onVideoModalOpen(liveLink);\r\n  };\r\n\r\n  return (\r\n    <header\r\n      className={cn(\"header\", {\r\n        blur: isPlayerExtend && (isMobile || isLandscape),\r\n      })}\r\n    >\r\n      <Marshak\r\n        className=\"header__marshak-links\"\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n      />\r\n\r\n      <div className=\"header__various-links\">\r\n        <div className=\"header__accent-elements-container\">\r\n          <button\r\n            className=\"main-button main-button_type_accent header__open-live-button\"\r\n            onClick={handleVideoModalOpen}\r\n          >\r\n            Live\r\n          </button>\r\n\r\n          <AnchorLink\r\n            className=\"main-link main-link_type_accent header__form-anchor-link\"\r\n            href=\"#form-participate\"\r\n          >\r\n            Хочу свой трек\r\n          </AnchorLink>\r\n        </div>\r\n\r\n        <StreamServices\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n          isLandscape={isLandscape}\r\n          currentTrack={currentTrack}\r\n        />\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/turbina.b11f75a9.svg\";","import './ProjectLogo.css';\r\nimport './Blur.css';\r\nimport logo from '../images/turbina.svg';\r\nimport cn from 'classnames';\r\n\r\n\r\nfunction ProjectLogo({ isPlayerExtend, isMobile, isLandscape }) {\r\n  const titleStyle = cn(\"title\", { \"blur\": isPlayerExtend && (isMobile || isLandscape)})\r\n  return (\r\n    <h1\r\n      className={titleStyle}\r\n    >\r\n      <img\r\n        className=\"title__logo\"\r\n        src={logo}\r\n        alt=\"Логотип Турбина\" />\r\n    </h1>\r\n  )\r\n}\r\n\r\nexport default ProjectLogo;\r\n","import { useState, useEffect } from 'react';\r\n\r\n/*\r\nХук useAudioPlayer для использования аудиоплеера.\r\naudioElementId -- (строка, например 'audio')\r\ntrack -- трек из списка песен, устанавливается в качестве зависимости \r\n        (useEffect при смене трека)\r\nonTrackEnd -- обработчик конца трека (указывает, что делать: переключать\r\n        на следующий трек или нет)\r\n*/\r\nfunction useAudioPlayer(audioPlayerRef, track, onTrackEnd) {\r\n  const [isLoaded, setLoadedState] = useState(false);\r\n\r\n  const [duration, setDuration] = useState(0);\r\n  const [curTime, setCurTime] = useState(0);\r\n  const [isPlaying, setPlaying] = useState(false);\r\n  const [clickedTime, setClickedTime] = useState();\r\n\r\n  const handlePlayClick = () => {\r\n    setPlaying(!isPlaying);\r\n    !isPlaying\r\n      ? audioPlayerRef.current.play()\r\n      : audioPlayerRef.current.pause();\r\n  }\r\n      \r\n  const handleLoadedMetaData = () => {\r\n    setDuration(audioPlayerRef.current.duration);\r\n    setCurTime(audioPlayerRef.current.currentTime);\r\n    setLoadedState(true);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    isPlaying\r\n      ? audioPlayerRef.current.play().catch(_ => {setPlaying(false)})\r\n      : audioPlayerRef.current.pause();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [track, isPlaying]);\r\n  // catch предназначен для отлавливания исключения \"play() failed because the user didn't interact\r\n  // with the document first\" при загрузке страницы.\r\n\r\n  const handleTimeUpdate = () => setCurTime(audioPlayerRef.current.currentTime);\r\n\r\n  const handleTrackEnd = () => {\r\n    const isLastTrack = onTrackEnd();\r\n    if (isLastTrack) {\r\n      setPlaying(false);\r\n      setCurTime(0);\r\n    }\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (clickedTime && clickedTime !== curTime) {\r\n      audioPlayerRef.current.currentTime = clickedTime;\r\n      setClickedTime(null);\r\n      console.log(clickedTime)\r\n    } \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clickedTime]);\r\n\r\n  useEffect(() => {\r\n    setCurTime(0);\r\n    setLoadedState(false);\r\n    setPlaying(true);\r\n  }, [track]);\r\n\r\n  useEffect(() => {\r\n    setPlaying(false);\r\n  }, []);\r\n\r\n  return {\r\n    isPlaying,\r\n    handlePlayClick,\r\n    isLoaded,\r\n    handleTimeUpdate,\r\n    handleLoadedMetaData,\r\n    setClickedTime,\r\n    handleTrackEnd,\r\n    curTime,\r\n    duration\r\n  }\r\n}\r\n\r\nexport default useAudioPlayer;\r\n","function throttle(func, ms) {\r\n  \r\n  let isThrottled = false,\r\n    savedArgs,\r\n    savedThis;\r\n\r\n  const wrapper = () => {\r\n\r\n    if (isThrottled) {\r\n      // запоминаем последние аргументы для вызова после задержки\r\n      // eslint-disable-next-line no-undef\r\n      savedArgs = arguments;\r\n      savedThis = this;\r\n      return;\r\n    }\r\n\r\n    // в противном случае переходим в состояние задержки\r\n    // eslint-disable-next-line no-undef\r\n    func.apply(this, arguments);\r\n\r\n    isThrottled = true;\r\n\r\n    // настройка сброса isThrottled после задержки\r\n    setTimeout(() => {\r\n      isThrottled = false;\r\n      if (savedArgs) {\r\n        // если были вызовы, savedThis/savedArgs хранят последний из них\r\n        // рекурсивный вызов запускает функцию и снова устанавливает время задержки\r\n        wrapper.apply(savedThis, savedArgs);\r\n        savedArgs = savedThis = null;\r\n      }\r\n    }, ms);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n\r\nexport default throttle;\r\n","import { useState, useEffect } from 'react';\r\nimport throttle from '../utils/throttle';\r\n\r\n/*\r\nХук useTicker реализует бегущую строку.\r\nИзмеряет текущую ширину элемента и контейнера, определяет необходимость\r\nпоявления бегущей строки и запускает её.\r\nРеагирует на 'resize' окна браузера.\r\nelementRef -- ссылка на элемент, который становится бегущей строкой.\r\ncontainerTickerAddClass -- класс, добавляемый в список классов контейнера\r\n      при появлении в нём бегущей строки.\r\ndependences -- массив зависимостей, при изменении которых снова проверяется \r\n      необходимость появления бегущей строки.\r\n*/\r\nfunction useTicker({ elementRef, containerTickerAddClass, dependences }) {\r\n  // стейт-переменная, определяющая необходимость бегущей строки\r\n  const [isTickerNeeded, setTickerState] = useState(false);\r\n  \r\n  // Обработчик ресайза окна\r\n  const handleResize = () => {\r\n    const element = elementRef.current;\r\n    const elementContainer = element.parentElement;\r\n    const elementWidth = element.scrollWidth;\r\n    const elementContainerWidth = elementContainer.clientWidth;\r\n    if (elementWidth > elementContainerWidth) {\r\n      setTickerState(true);\r\n    } else {\r\n      setTickerState(false);\r\n    }\r\n  }\r\n  // TODO -- можно КАК-ТО использовать для паузы в бегущей строке\r\n  // Функция задержки\r\n  const delay = async (ms) => await new Promise(resolve => setTimeout(resolve, ms));\r\n  \r\n  // Проверяем необходимость запуска бегущей строки при загрузке страницы,\r\n  // предварительно сбрасывая isTickerNeeded на false для выставления \"бегущего\"\r\n  // элемента в исходное положение.\r\n  useEffect(() => {\r\n    async function checkIsTickerNeeded() {\r\n      await delay(2000);\r\n      handleResize();\r\n    };\r\n    setTickerState(false);\r\n    checkIsTickerNeeded();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, dependences);\r\n\r\n  // Затормаживаем обработку ресайза окна браузера\r\n  const handleResizeThrottled = throttle(handleResize, 1000);\r\n\r\n  // Добавляем слышатели на ресайз окна\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResizeThrottled);\r\n    return () => {\r\n      window.removeEventListener('resize', handleResizeThrottled);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  // Добавляем стейт переменную для хранения текущего номера таймера\r\n  const [intervalId, setIntervalId] = useState(null);\r\n  \r\n  // При изменении isTickerNeeded запускаем или останавливаем бегущую строку\r\n  useEffect(() => {\r\n    const element = elementRef.current;\r\n    const elementContainer = element.parentElement;\r\n    const elementWidth = element.scrollWidth;\r\n    const elementContainerWidth = elementContainer.clientWidth;\r\n  \r\n    const startTicker = () => {\r\n      // TODO -- пауза\r\n      currentX--;\r\n      element.style.left = `${currentX}px`;\r\n      if (currentX === -elementWidth) {\r\n        // 10 здесь устанавливает \"задержку\" в пикселях перед появлением строки справа\r\n        currentX = elementContainerWidth + 10;\r\n      }\r\n    }\r\n  \r\n    let currentX = 0;\r\n    \r\n    if (isTickerNeeded) {\r\n      elementContainer.classList.add(containerTickerAddClass);\r\n      const currentIntervalId = setInterval(startTicker, 13);\r\n      setIntervalId(currentIntervalId)\r\n    } else {\r\n      elementContainer.classList.remove(containerTickerAddClass);\r\n      clearInterval(intervalId);\r\n      element.style.left = '0px';\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isTickerNeeded]);\r\n}\r\n\r\nexport default useTicker;\r\n","import { useRef } from 'react';\r\nimport './PlayerTimeline.css';\r\n\r\nfunction PlayerTimeline ({ duration, curTime, onTimeUpdate }) {\r\n  const timelineRef = useRef();\r\n\r\n  // --- Страховка на случай неверного отсчёта времени, оставшегося до конца трека ---\r\n  // При запуске трека после загрузки страницы первый раз audio.duration\r\n  // не успевает правильно загрузиться и audio.currentTime превышает \r\n  // audio.duration, из-за чего curPercentage может быть больше 100.\r\n  const curPercentage = curTime <= duration ? (curTime / duration) * 100 : 100;\r\n\r\n  const calculateClickedTime = (e) => {\r\n    const timeline = timelineRef.current;\r\n    const timelineWidth = timeline.clientWidth;\r\n    const timelineStart = timeline.getBoundingClientRect().left;\r\n    const clickedXposition = e.pageX;\r\n    const clickedPositionOnTimeline = clickedXposition - timelineStart;\r\n    const timePerPixel = duration / timelineWidth;\r\n    \r\n    return clickedPositionOnTimeline * timePerPixel;\r\n  }\r\n\r\n  const handleTimeDrag = (e) => {\r\n    onTimeUpdate(calculateClickedTime(e));\r\n\r\n    const updateTimeOnMove = eMove => {\r\n      onTimeUpdate(calculateClickedTime(eMove));\r\n    };\r\n\r\n    document.addEventListener(\"mousemove\", updateTimeOnMove);\r\n\r\n    document.addEventListener(\"mouseup\", function handleMouseUp () {\r\n      document.removeEventListener(\"mousemove\", updateTimeOnMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className=\"player__timeline-container\"\r\n      onMouseDown={e => handleTimeDrag(e)}\r\n    >\r\n      <div\r\n        className=\"player__timeline\"\r\n        ref={timelineRef}\r\n      >\r\n        <div \r\n          className=\"player__progress\"\r\n          style={{ width: `${curPercentage}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerTimeline;\r\n","function formatDuration(duration) {\r\n  // --- Страховка на случай отсчёта времени, оставшегося до конца трека ---\r\n  // При запуске трека после загрузки страницы первый раз audio.duration\r\n  // не успевает правильно загрузиться и audio.currentTime превышает \r\n  // audio.duration, из-за чего в функцию formatDuration попадает \r\n  // отрицательное значение.\r\n  if (duration <= 0) {\r\n    return '0:00'\r\n  }\r\n\r\n  let minutes = Math.floor(duration/60);\r\n  let seconds = Math.floor(duration % 60);\r\n  if (seconds < 10) {seconds = '0'+seconds;}\r\n  return `${minutes}:${seconds}`;\r\n}\r\n\r\nexport default formatDuration;\r\n","import './PlayerTimer.css';\r\nimport formatDuration from '../../utils/formatDuration';\r\n\r\nfunction PlayerTimer ({ duration, curTime }) {\r\n  return (\r\n    <span className=\"player__timer\">\r\n      {formatDuration(duration - curTime)}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default PlayerTimer;\r\n","function PlayIcon ({\r\n  className = '',\r\n  width = 16,\r\n  height = 20,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 16 20\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path \r\n        d=\"M15.258 8.625c.99.651.99 2.099 0 2.75l-12.696 8.35C1.464 20.448 0 19.662 0 18.35V1.65C0 .338 1.464-.447 2.562.275l12.696 8.35z\" \r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default PlayIcon;\r\n","function PauseIcon ({\r\n  className='',\r\n  width = 13,\r\n  height = 16,\r\n  fill='#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 14 18\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M1 0a1 1 0 00-1 1v16a1 1 0 001 1h2a1 1 0 001-1V1a1 1 0 00-1-1H1zm10 0a1 1 0 00-1 1v16a1 1 0 001 1h2a1 1 0 001-1V1a1 1 0 00-1-1h-2z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default PauseIcon;\r\n","import './ControlBtn.css';\r\nimport PlayIcon from '../svg/PlayIcon';\r\nimport PauseIcon from '../svg/PauseIcon';\r\n\r\nfunction ControlBtn({ isPlaying, onBtnClick }) {\r\n  return (\r\n    <button\r\n      className=\"control-btn control-btn_rounded\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      {isPlaying\r\n        ? <PauseIcon className=\"control-btn__pause\" />\r\n        : <PlayIcon className=\"control-btn__play\" />\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default ControlBtn;\r\n","function BackwardIcon({\r\n  className = '',\r\n  width = 19,\r\n  height = 18,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 19 18\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      // Атрибут transform в svg не работает на iOS\r\n      style={{transform: \"rotate(180deg)\"}}\r\n    >\r\n      <rect\r\n        width=\"14%\"\r\n        height=\"90%\"\r\n        x=\"85.7%\"\r\n        y=\"5%\"\r\n        rx=\"1\"\r\n        fill={fill}\r\n      />\r\n      <path\r\n        d=\"M13.805 7.763a1.475 1.475 0 010 2.474L2.318 17.753C1.324 18.402 0 17.696 0 16.515V1.485C0 .304 1.324-.403 2.318.248l11.487 7.515z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default BackwardIcon;\r\n","import './ControlBtn.css';\r\nimport BackwardIcon from '../svg/BackwardIcon';\r\n\r\nfunction BackwardBtn({ onBtnClick }) {\r\n  return (\r\n    <button\r\n      className=\"control-btn\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      <BackwardIcon className=\"control-btn__checkout\" />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default BackwardBtn;\r\n","function ForwardIcon({\r\n  className = '',\r\n  width = 19,\r\n  height = 18,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 19 18\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <rect\r\n        x=\"85.7%\"\r\n        y=\"5%\"\r\n        width=\"14%\"\r\n        height=\"90%\"\r\n        rx=\"1\"\r\n        fill={fill}\r\n      />\r\n      <path\r\n        d=\"M13.805 7.763a1.475 1.475 0 010 2.474L2.318 17.753C1.324 18.402 0 17.696 0 16.515V1.485C0 .304 1.324-.403 2.318.248l11.487 7.515z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ForwardIcon;\r\n","import './ControlBtn.css';\r\nimport ForwardIcon from '../svg/ForwardIcon';\r\n\r\nfunction ForwardBtn({ onBtnClick }) {\r\n  return (\r\n    <button\r\n      className=\"control-btn\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      <ForwardIcon className=\"control-btn__checkout\" />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default ForwardBtn;\r\n","export default function renderFrame(analyser, context2d, freqByteData, analyzerCanvas, audio) {\r\n\r\n\r\n\r\n  function Particle(opt) {\r\n    this.x = opt.x || 0;\r\n    this.y = opt.y || 0;\r\n    this.vx = opt.vx || Math.random() - .5;\r\n    this.vy = opt.vy || Math.random() - .5;\r\n    this.size = opt.size || Math.random() * 3;\r\n    this.life = opt.life || Math.random() * 5;\r\n\r\n    this.dead = false;\r\n\r\n    this.alpha = 1;\r\n    this.rotate = 0;\r\n    this.color = opt.color || 'rgba(244,244,244,.9)';\r\n    this.type = opt.type || 'circle';\r\n\r\n    this.update = update;\r\n    this.render = render;\r\n    // return this;\r\n  }\r\n\r\n  function update(ctx) {\r\n    this.x += this.vx;\r\n    this.y += this.vy;\r\n\r\n    this.life -= .01;\r\n    this.alpha -= .003;\r\n    this.rotate += Math.random() * .01;\r\n    if (this.life < 0) {\r\n      this.dead = true;\r\n      this.alpha = 0;\r\n      return;\r\n    }\r\n    this.render(ctx);\r\n  }\r\n\r\n  function render(ctx) {\r\n    var dot = this, gA = ctx.globalAlpha;\r\n    // ctx.shadowBlur = dot.size / 2;\r\n    // ctx.shadowColor = 'rgba(244,244,244,.2)';\r\n    ctx.fillStyle = dot.color;\r\n    if (dot.type === 'circle') {\r\n      ctx.beginPath();\r\n      ctx.globalAlpha = dot.alpha;\r\n      ctx.arc(dot.x, dot.y, dot.size, 0, Math.PI * 2);\r\n      ctx.fill();\r\n    } else {\r\n      ctx.save();\r\n      ctx.translate(dot.x, dot.y);\r\n      ctx.rotate(dot.rotate);\r\n      ctx.rect(0, 0, dot.size, dot.size);\r\n      ctx.restore();\r\n      ctx.fill();\r\n    }\r\n    ctx.globalAlpha = gA;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  var option = {\r\n    effect: 'circlewave',\r\n    accuracy: 128,\r\n\r\n    circlewave: {\r\n      maxHeight: 20,\r\n      minHeight: -5,\r\n      spacing: 1,\r\n      // color: 'rgba(255, 204, 204, 0.5)',\r\n      color: ['rgba(0, 102, 255, .5)', 'rgba(0, 153, 255, .5)', 'rgb(0, 204, 255, .5)', 'rgba(0, 255, 255, .5)'],\r\n      shadowBlur: 2,\r\n      shadowColor: 'rgba(255, 204, 204, 1)',\r\n      fadeSide: true,\r\n      prettify: true,\r\n      particle: true,\r\n      maxParticle: 500,\r\n      circleRadius: 128,\r\n      showProgress: true,\r\n    },\r\n\r\n    circlebar: {\r\n      maxHeight: 40,\r\n      fadeSide: true,\r\n      particle: true,\r\n      shadowBlur: 4,\r\n      shadowColor: 'rgba(244,244,244, 1)',\r\n      minHeight: 1,\r\n      spacing: 1,\r\n      color: [\r\n        'rgba(50, 102, 255, .8)',\r\n        'rgba(50, 153, 255, .8)',\r\n        'rgba(50, 204, 255, .8)',\r\n        'rgba(50, 255, 255, .8)'],\r\n      prettify: true,\r\n      maxParticle: 100,\r\n      circleRadius: 128,\r\n      showProgress: true,\r\n    },\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  let particles = [];\r\n\r\n  function drawProgress(__color, __progress, circleRadius, context2d) {\r\n    // draw progress circular.\r\n\r\n    context2d.beginPath();\r\n    if (__color) {\r\n      // цвет полосы програсса\r\n      context2d.strokeStyle = __color;\r\n      context2d.lineWidth = 4;\r\n      context2d.lineCap = 'round';\r\n    }\r\n    context2d.arc(0, 0, circleRadius - 10, -Math.PI / 2, Math.PI * 2 * __progress - Math.PI / 2);\r\n    context2d.stroke();\r\n  }\r\n\r\n  function __rebuildData(freqByteData, horizontalAlign) {\r\n\r\n    var __freqByteData;\r\n\r\n    if (horizontalAlign === 'left') {\r\n      __freqByteData = freqByteData;\r\n    } else if (horizontalAlign === 'right') {\r\n      __freqByteData = Array.from(freqByteData).reverse();\r\n    } else {\r\n      __freqByteData = [].concat(\r\n        Array.from(freqByteData).reverse().slice(option.accuracy / 2, option.accuracy),\r\n        Array.from(freqByteData).slice(0, option.accuracy / 2)\r\n      );\r\n    }\r\n    return __freqByteData;\r\n  }\r\n\r\n  const canvas = analyzerCanvas.current;\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  function loop() {\r\n\r\n    var dpr = 1;\r\n    let width = canvas.clientWidth;\r\n    let height = canvas.clientHeight;\r\n  \r\n    canvas.width = width * dpr;\r\n    canvas.height = height * dpr;\r\n    context2d.scale(dpr, dpr);\r\n\r\n    context2d.globalCompositeOperation = 'lighter';\r\n    analyser.getByteFrequencyData(freqByteData);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    var __circlebarOption = option.circlebar;\r\n    var __fadeSide = __circlebarOption.fadeSide;\r\n    var __prettify = __circlebarOption.prettify;\r\n    var __freqByteData = __rebuildData(freqByteData, __circlebarOption.horizontalAlign);\r\n    var __angle = Math.PI * 2 / __freqByteData.length;\r\n    var __maxHeight, __width, __height, __left, __top, __color, __pos;\r\n    var circleRadius = __circlebarOption.circleRadius;\r\n    var __particle = __circlebarOption.particle;\r\n\r\n    var __maxParticle = __circlebarOption.maxParticle;\r\n    var __showProgress = __circlebarOption.showProgress;\r\n    var __progress = audio.currentTime / audio.duration;\r\n    var __offsetX = 0;\r\n\r\n\r\n    if (__circlebarOption.horizontalAlign !== 'center') {\r\n      __fadeSide = false;\r\n      __prettify = false;\r\n\r\n\r\n    }\r\n\r\n    // clear canvas\r\n    context2d.clearRect(0, 0, width, height);\r\n    context2d.save();\r\n    context2d.translate(width / 2 - .5, height / 2 - .5);\r\n\r\n    if (__circlebarOption.shadowBlur > 0) {\r\n      context2d.shadowBlur = __circlebarOption.shadowBlur;\r\n      context2d.shadowColor = __circlebarOption.shadowColor;\r\n    }\r\n\r\n\r\n    // generate and render particles if enabled \r\n    \r\n      if (__particle) {\r\n        delete particles.find(function (p) { return p.dead });\r\n        if (particles.length > __maxParticle) {\r\n          particles.shift();\r\n        } else {\r\n          const deg = Math.random() * Math.PI * 2;\r\n          particles.push(new Particle({\r\n            x: (circleRadius + 20) * Math.sin(deg),\r\n            y: (circleRadius + 20) * Math.cos(deg),\r\n            vx: .6 * Math.sin(deg) + Math.random() * .5 - .3,\r\n            vy: .6 * Math.cos(deg) + Math.random() * .5 - .3,\r\n            life: Math.random() * 10,\r\n            // type: 'rect'\r\n          }));\r\n        }\r\n        particles.forEach((dot) => { dot.update(context2d); });\r\n      }\r\n\r\n    \r\n\r\n\r\n\r\n    __width = (circleRadius * Math.PI - option.accuracy * __circlebarOption.spacing) / option.accuracy;\r\n    __offsetX = -__width / 2;\r\n    __color = __circlebarOption.color;\r\n    // since circlebar use ctx.rotate for each bar, so do NOT support gradient in bar currently.\r\n    var renderStyle = __color instanceof Array ? __color[0] : __color;\r\n    context2d.fillStyle = renderStyle\r\n\r\n    context2d.globalAlpha = 1;\r\n    context2d.beginPath();\r\n\r\n    // draw circlebar\r\n    // console.warn('__freqBytesData: ', __freqByteData, ' first entry height: ', __freqByteData[1] / 256 * __circlebarOption.maxHeight);\r\n    for (var index = __freqByteData.length - 1; index >= 0; index--) {\r\n      var value = __freqByteData[index];\r\n      __left = index * (__width + __circlebarOption.spacing);\r\n      __circlebarOption.spacing !== 1 && (__left += __circlebarOption.spacing / 2);\r\n\r\n      if (false) {\r\n        if (index <= option.accuracy / 2) {\r\n          __maxHeight = (1 - (option.accuracy / 2 - 1 - index) / (option.accuracy / 2)) * __circlebarOption.maxHeight;\r\n        } else {\r\n          __maxHeight = (1 - (index - option.accuracy / 2) / (option.accuracy / 2)) * __circlebarOption.maxHeight;\r\n        }\r\n      } else {\r\n        __maxHeight = __circlebarOption.maxHeight;\r\n      }\r\n\r\n      __height = value / 256 * __maxHeight;\r\n      __height = __height < __circlebarOption.minHeight ? __circlebarOption.minHeight : __height;\r\n\r\n      if (__fadeSide) {\r\n        if (index <= option.accuracy / 2) {\r\n          context2d.globalAlpha = 1 - (option.accuracy / 2 - 1 - index) / (option.accuracy / 2);\r\n        } else {\r\n          context2d.globalAlpha = 1 - (index - option.accuracy / 2) / (option.accuracy / 2);\r\n        }\r\n      }\r\n\r\n      context2d.rotate(__angle);\r\n      context2d.rect(__offsetX, circleRadius, __width, __height);\r\n    }\r\n    context2d.closePath();\r\n    context2d.fill();\r\n\r\n    // drawCover(__progress, circleRadius);\r\n    if (__showProgress) { drawProgress(__color, __progress, circleRadius, context2d); }\r\n\r\n    // need to restore canvas after translate to center..\r\n    context2d.restore();\r\n\r\n\r\n    requestAnimationFrame(loop);\r\n\r\n  }\r\n  requestAnimationFrame(loop);\r\n\r\n  // \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n};\r\n","import renderFrame from './renderFrame3'\r\n\r\nfunction visualize(audioPlayerRef, isMobile, analyzerCanvas, setAudioCtx) {\r\n  try {\r\n\r\n    if (!audioPlayerRef.current.src.startsWith(window.location.href)) {\r\n      throw new Error('AudioContext отключен',\r\n        'текущий адрес: ', window.location.href,\r\n        'адрес трека: ', audioPlayerRef.current.src);\r\n    }\r\n\r\n    if (!isMobile) {\r\n      const context = new AudioContext();\r\n      const audio = audioPlayerRef.current;\r\n      const audioSrc = context.createMediaElementSource(audio);\r\n      const analyser = context.createAnalyser();\r\n      const canvas = analyzerCanvas.current;\r\n      const context2d = canvas.getContext('2d');\r\n      analyser.fftSize = 256;\r\n      const freqByteData = new Uint8Array(analyser.frequencyBinCount);\r\n      audioSrc\r\n        .connect(analyser)\r\n        .connect(context.destination);\r\n      analyser.connect(context.destination);\r\n      setAudioCtx(context);\r\n      renderFrame(analyser, context2d, freqByteData, analyzerCanvas, audio);\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n    return\r\n  }\r\n}\r\n\r\nexport default visualize;","import { useRef, useEffect, useState } from 'react';\r\nimport './PlayerController.css';\r\nimport useAudioPlayer from '../../hooks/useAudioPlayer';\r\nimport useTicker from '../../hooks/useTicker';\r\nimport PlayerTimeline from './PlayerTimeline';\r\nimport PlayerTimer from './PlayerTimer';\r\nimport ControlBtn from './ControlBtn';\r\nimport BackwardBtn from './BackwardBtn';\r\nimport ForwardBtn from './ForwardBtn';\r\nimport visualize from '../../utils/visualize'\r\nimport { useMediaQuery } from 'react-responsive';\r\nwindow.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\nfunction PlayerController({ isPlayerExtend, isVideoModalOpened, track, onForwardClick, onBackwardClick, onTrackEnd, refanalyzerCanvas }) {\r\n  const trackRef = useRef();\r\n  const audioPlayerRef = useRef();\r\n\r\n  const [audioCtx, setAudioCtx] = useState(null);\r\n  const isMobile = useMediaQuery({ query: '(max-width: 480px), (max-height: 600px)' });\r\n  \r\n  useEffect(() => {\r\n    visualize(audioPlayerRef, isMobile, refanalyzerCanvas, setAudioCtx)\r\n  }, [isMobile, refanalyzerCanvas]);\r\n\r\n  useTicker({\r\n    elementRef: trackRef,\r\n    containerTickerAddClass: 'player__song-container_masked',\r\n    dependences: [track, isPlayerExtend]\r\n  });\r\n\r\n  const {\r\n    isPlaying,\r\n    handlePlayClick,\r\n    isLoaded,\r\n    handleTimeUpdate,\r\n    handleLoadedMetaData,\r\n    setClickedTime,\r\n    handleTrackEnd,\r\n    curTime,\r\n    duration\r\n  } = useAudioPlayer(audioPlayerRef, track, onTrackEnd);\r\n\r\n  /* Ставим на паузу трек в аудио-плеере, если открывается модальное окно с youtube-плеером */\r\n  useEffect(() => {\r\n    if (isVideoModalOpened && isPlaying) {\r\n      handlePlayClick();\r\n    }\r\n  }, [isVideoModalOpened]);\r\n\r\n  // TODO - когда будет готова новая визуализация, включить\r\n  if (isPlaying && audioCtx) {\r\n    if (audioCtx.state === 'suspended') {\r\n      audioCtx.resume()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"player__controller\">\r\n        <audio\r\n          src={track.link}\r\n          preload=\"auto\"\r\n          ref={audioPlayerRef}\r\n          onLoadedMetadata={handleLoadedMetaData}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onEnded={handleTrackEnd}\r\n        >\r\n          <p>Ваш браузер не поддерживает HTML5 аудио.</p>\r\n        </audio>\r\n        <div className=\"player__controllers\">\r\n          <BackwardBtn onBtnClick={onBackwardClick} />\r\n          <ControlBtn\r\n            isPlaying={isPlaying}\r\n            onBtnClick={handlePlayClick}\r\n          />\r\n          <ForwardBtn onBtnClick={onForwardClick} />\r\n        </div>\r\n        <div className=\"player__song-container\">\r\n          <p\r\n            className=\"player__song\"\r\n            ref={trackRef}\r\n          >\r\n            {isLoaded\r\n              ? <>\r\n                {track.trackName} — {track.author}\r\n                <span className=\"player__song-accent\"> feat. </span>\r\n                {track.originalAuthor}\r\n              </>\r\n              : 'Загрузка...'\r\n            }\r\n          </p>\r\n        </div>\r\n        {isLoaded &&\r\n          <PlayerTimer\r\n            duration={duration}\r\n            curTime={curTime}\r\n          />\r\n        }\r\n        <PlayerTimeline\r\n          curTime={curTime}\r\n          duration={duration}\r\n          onTimeUpdate={(time) => setClickedTime(time)}\r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlayerController;\r\n","import cn from 'classnames';\r\n\r\nfunction cnWithSwitchAnimation(className, initial) {\r\n  return cn(className, {\r\n    'switchAnimation': initial,\r\n    'switchAnimation2': !initial\r\n  })\r\n}\r\n\r\nexport default cnWithSwitchAnimation;\r\n","import './PlayerSwitcher.css';\r\nimport cnWithSwitchAnimation from '../../utils/switchAnimation';\r\n\r\nfunction PlayerSwitcher({ onClick, isTextInfo }) {\r\n\r\n  return (\r\n    <button onClick={onClick} className='player__switcher'>\r\n      <span className={cnWithSwitchAnimation('player__switcher-text', isTextInfo)}>\r\n        {isTextInfo ? 'Релизы' : 'Текст песни'}\r\n      </span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default PlayerSwitcher;\r\n","function ExtendRoundIcon ({\r\n  className = '',\r\n  width = 24,\r\n  height = 24,\r\n  fill = '#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12zm.64-15.768L12 7.698l-.64.534-6 5 1.28 1.536L12 10.302l5.36 4.466 1.28-1.536-6-5z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ExtendRoundIcon;\r\n","function CloseRoundIcon ({\r\n  className='',\r\n  width=24,\r\n  height=24,\r\n  fill='#fff'\r\n}) {\r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12zm-13.413 0L7.05 8.464 8.465 7.05l3.536 3.536 3.536-3.536 1.414 1.414L13.415 12l3.536 3.536-1.415 1.414-3.535-3.536-3.536 3.536-1.414-1.414L10.587 12z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default CloseRoundIcon;\r\n","function ArowIcon ({\r\n  className = '',\r\n  width = 32,\r\n  height = 13,\r\n  fill = '#fff',\r\n  isRotated = false\r\n}) {      \r\n  return (\r\n    <svg\r\n      className={className}\r\n      width={width}\r\n      height={height}\r\n      viewBox=\"0 0 32 13\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      // Если указывать \"none\" в консоль падает ошибка:\r\n      // Error: <svg> attribute transform: Expected transform function, \"none\".\r\n      // Атрибут transform в svg не работает на iOS\r\n      style={{transform: `${isRotated ? \"rotate(181deg)\" : \"rotate(0)\"}`}}\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M15.408.193a1 1 0 011.183 0l14.194 10.41a1 1 0 11-1.183 1.612L16.59 2.674a1 1 0 00-1.183 0l-13.01 9.54a1 1 0 01-1.183-1.612L15.408.193z\"\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ArowIcon;\r\n","import './ExtendBtn.css';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport ExtendBtnIcon from '../svg/ExtendRoundIcon';\r\nimport CloseBtnIcon from '../svg/CloseRoundIcon';\r\nimport ArrowIcon from '../svg/ArrowIcon';\r\n\r\nfunction ExtendBtn ({ isOpen, onBtnClick }) {\r\n  const isMobile = useMediaQuery({ query: '(max-width: 480px)'});\r\n  return (\r\n    <button\r\n      className=\"extend-btn\"\r\n      type=\"button\"\r\n      onClick={onBtnClick}\r\n    >\r\n      {isOpen\r\n        ? isMobile ? <ArrowIcon isRotated={true} /> : <CloseBtnIcon className=\"extend-btn__close\" />\r\n        : isMobile ? <ArrowIcon /> : <ExtendBtnIcon className=\"extend-btn__open\" />\r\n      }\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default ExtendBtn;\r\n","import './PlayerTrack.css';\r\nimport cn from 'classnames';\r\n\r\nfunction PlayerTrack({ track, onTrackClick, inList, trackId, currentTrack }) {\r\n\r\n  const checked = trackId === currentTrack.id\r\n  const trackStyle = cn('player__track', { 'player__track_checked': checked }, { 'player__track_info': inList });\r\n\r\n  const handleClick = () => {\r\n    if (onTrackClick) {\r\n      onTrackClick(track);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <p onClick={handleClick} className={trackStyle}>\r\n      {`${track.trackName} — ${track.author} `}\r\n      <span className='player__feat'> feat. </span>\r\n      {`${track.originalAuthor}`}\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default PlayerTrack;\r\n","import './PlayerInfoContent.css';\r\nimport PlayerTrack from './PlayerTrack';\r\nimport cnWithSwitchAnimation from '../../utils/switchAnimation';\r\n\r\nfunction PlayerInfoContent({ tracks, isTextInfo, currentTrack, onTrackClick }) {\r\n\r\n  const setTextLyricsFormat = (text) => {\r\n    const textArray = text.split('\\n')\r\n    return textArray.map((line, i) => (\r\n      <p key={i} className='player__text-line'>{line}</p>\r\n    ))\r\n  }\r\n\r\n  const setSongLyrics = (currentTrack) => {\r\n    return (\r\n      <>\r\n        {setTextLyricsFormat(currentTrack.text)}\r\n      </>)\r\n  }\r\n\r\n  const setReleaseList = (tracks) => {\r\n    if (tracks.length === 1) {\r\n      return <p className='player__info-header'>Пока это единственный трек в проекте, но 12 декабря появятся новые</p>\r\n    } else {\r\n      return (\r\n        <>\r\n          <ul className='player__tracks'>\r\n            {tracks.map((track, i) => (\r\n              <li key={track.id} className='player__track-item'>\r\n                <PlayerTrack\r\n                  trackId={track.id}\r\n                  currentTrack={currentTrack}\r\n                  track={track}\r\n                  onTrackClick={onTrackClick}\r\n                  inList={true}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={cnWithSwitchAnimation('player__content', isTextInfo)}>\r\n        {isTextInfo ? setSongLyrics(currentTrack) : setReleaseList(tracks)}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PlayerInfoContent;\r\n","import { useState, useEffect } from 'react';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport './PlayerInfoContainer.css';\r\nimport PlayerInfoContent from './PlayerInfoContent';\r\nimport cnWithSwitchAnimation from '../../utils/switchAnimation';\r\nimport cn from 'classnames';\r\n\r\nfunction PlayerInfoContainer({ tracks, isOpen, isTextInfo, currentTrack, onTrackClick, isLoading }) {\r\n  const isBigDesktop = useMediaQuery({ query: '(min-width: 1025px)' });\r\n  const isDesktop = useMediaQuery({ query: '(min-width: 769px)' });\r\n  const isTablet = useMediaQuery({ query: '(min-width: 481px)' });\r\n  const isLandscape = useMediaQuery({query: '(orientation:landscape) and (max-height: 420px)'});\r\n  const isSmallMobileLandscape = useMediaQuery({query: '(orientation:landscape) and (max-height: 370px)'});\r\n\r\n  const defineScrollbarHeight = () => {\r\n    if (isSmallMobileLandscape) return 74;\r\n    if (isLandscape) return 98;\r\n    if (isBigDesktop) return 130;\r\n    if (isDesktop) return 102;\r\n    if (isTablet) return 152;\r\n    return 88;\r\n  };\r\n  \r\n  const [scrollbarHeight, setScrollbarHeight] = useState(\r\n    defineScrollbarHeight()\r\n  );\r\n\r\n  useEffect(() => {\r\n    setScrollbarHeight(defineScrollbarHeight());\r\n  }, [isBigDesktop, isDesktop, isLandscape, isTablet, isSmallMobileLandscape]);\r\n\r\n  const renderView = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box'\r\n        style={{ ...style, overflowX: 'hidden' }}\r\n        {...props}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderThumb = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box-thumb'\r\n        style={{ ...style }}\r\n        {...props} />\r\n    );\r\n  };\r\n\r\n  const renderTrack = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        className='player__scroll-box-track'\r\n        style={{ ...style, width: 3 }}\r\n        {...props} />\r\n    );\r\n  };\r\n\r\n  const renderTrackHorizontal = ({ style, ...props }) => {\r\n    return (\r\n      <div\r\n        style={{ display: 'none' }}\r\n        {...props}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n\r\n    <div className={cn('player__info-container', { 'player__info-container_active': isOpen })}>\r\n      <p className={cnWithSwitchAnimation('player__info-header', isTextInfo)}>\r\n        {isTextInfo ? 'Текст песни:' : 'Релизы:'}\r\n      </p>\r\n      <Scrollbars\r\n        className='player__scrollbars'\r\n        renderView={renderView}\r\n        style={{ height: scrollbarHeight }}\r\n        renderThumbVertical={renderThumb}\r\n        renderTrackVertical={renderTrack}\r\n        renderTrackHorizontal={renderTrackHorizontal}\r\n        hideTracksWhenNotNeeded={true}\r\n      >\r\n        < PlayerInfoContent\r\n          tracks={tracks}\r\n          isOpen={isOpen}\r\n          isTextInfo={isTextInfo}\r\n          currentTrack={currentTrack}\r\n          onTrackClick={onTrackClick}\r\n          isLoading={isLoading}\r\n        />\r\n      </Scrollbars >\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerInfoContainer;\r\n","function ClipBtnIcon ({\r\n  className='',\r\n  width=87,\r\n  height=34,\r\n  fill='#fff'\r\n}) {\r\n  return(\r\n    <svg\r\n      className={className}\r\n      width=\"87\"\r\n      height=\"34\"\r\n      viewBox=\"0 0 87 34\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <mask\r\n        id=\"a\"\r\n        fill=\"#fff\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M17 0C7.611 0 0 7.611 0 17s7.611 17 17 17h53c9.389 0 17-7.611 17-17S79.389 0 70 0H17zm22.717 22h2.009l-4.502-5.976 4.528-4.933h-2.04L35.467 15.7h-.565V11.09h-1.646v10.91h1.646v-4.89h1.13L39.716 22zm2.904 0h.51c1.785 0 2.44-1.32 2.568-4.027l.128-2.78h2.674V22h1.56v-8.182h-5.71l-.143 3.623c-.101 2.524-.389 3.18-1.3 3.18h-.293L42.62 22zm11.126-2.232v-5.95h-1.561V22h1.731l3.59-5.955V22h1.561v-8.182h-1.715l-3.606 5.95zM61.209 22h1.55v-6.807h3.564V22h1.56v-8.182H61.21V22zm-37.58-5.687a.822.822 0 010 1.374l-6.348 4.175A.826.826 0 0116 21.175v-8.35a.826.826 0 011.281-.687l6.348 4.175z\"\r\n        />\r\n      </mask>\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\" \r\n        d=\"M17 0C7.611 0 0 7.611 0 17s7.611 17 17 17h53c9.389 0 17-7.611 17-17S79.389 0 70 0H17zm22.717 22h2.009l-4.502-5.976 4.528-4.933h-2.04L35.467 15.7h-.565V11.09h-1.646v10.91h1.646v-4.89h1.13L39.716 22zm2.904 0h.51c1.785 0 2.44-1.32 2.568-4.027l.128-2.78h2.674V22h1.56v-8.182h-5.71l-.143 3.623c-.101 2.524-.389 3.18-1.3 3.18h-.293L42.62 22zm11.126-2.232v-5.95h-1.561V22h1.731l3.59-5.955V22h1.561v-8.182h-1.715l-3.606 5.95zM61.209 22h1.55v-6.807h3.564V22h1.56v-8.182H61.21V22zm-37.58-5.687a.822.822 0 010 1.374l-6.348 4.175A.826.826 0 0116 21.175v-8.35a.826.826 0 011.281-.687l6.348 4.175z\"\r\n        fill={fill}\r\n      />\r\n      <path \r\n        fill={fill}\r\n        mask=\"url(#a)\"\r\n        d=\"M41.726 22v2h4.01l-2.413-3.203L41.726 22zm-2.009 0l-1.597 1.204.6.796h.997v-2zm-2.492-5.976L35.75 14.67l-1.125 1.226 1 1.33 1.599-1.203zm4.527-4.933l1.474 1.353 3.077-3.353h-4.55v2zm-2.04 0v-2h-.877l-.594.645 1.471 1.355zM35.467 15.7v2h.877l.594-.645-1.471-1.355zm-.565 0h-2v2h2v-2zm0-4.608h2v-2h-2v2zm-1.646 0v-2h-2v2h2zm0 10.91h-2v2h2v-2zm1.646 0v2h2v-2h-2zm0-4.89v-2h-2v2h2zm1.13 0l1.596-1.205-.6-.796h-.997v2zM42.62 22l-2 .007.007 1.992h1.992v-2zm3.078-4.028l1.998.095v-.003l-1.998-.092zm.128-2.78v-2h-1.91l-.088 1.908 1.998.092zm2.674 0h2v-2h-2v2zm0 6.807h-2v2h2v-2zm1.56 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-5.71 0v-2H42.43l-.076 1.921 1.999.08zm-.143 3.623l1.998.08v-.001l-1.998-.08zm-1.593 3.18v-2h-2.008l.008 2.007 2-.007zm11.132-6.803h2v-2h-2v2zm0 5.95h-2v7.159l3.71-6.122-1.71-1.037zm-1.561-5.95v-2h-2v2h2zm0 8.182h-2v2h2v-2zm1.731 0v2h1.13l.583-.967L53.917 22zm3.59-5.955h2V8.854l-3.712 6.158 1.712 1.033zm0 5.955h-2v2h2v-2zm1.561 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-1.715 0v-2h-1.127l-.584.964 1.71 1.036zM62.759 22v2h2v-2h-2zm-1.55 0h-2v2h2v-2zm1.55-6.807v-2h-2v2h2zm3.564 0h2v-2h-2v2zm0 6.807h-2v2h2v-2zm1.56 0v2h2v-2h-2zm0-8.182h2v-2h-2v2zm-6.674 0v-2h-2v2h2zm-37.58 3.87l1.099 1.67-1.1-1.67zm0-1.375l-1.1 1.67 1.1-1.67zm-6.348 5.55l-1.099-1.671 1.099 1.67zm0-9.725l1.1-1.671-1.1 1.67zM2 17C2 8.716 8.716 2 17 2v-4C6.507-2-2 6.507-2 17h4zm15 15C8.716 32 2 25.284 2 17h-4c0 10.493 8.507 19 19 19v-4zm53 0H17v4h53v-4zm15-15c0 8.284-6.716 15-15 15v4c10.493 0 19-8.507 19-19h-4zM70 2c8.284 0 15 6.716 15 15h4C89 6.507 80.493-2 70-2v4zM17 2h53v-4H17v4zm24.726 18h-2.009v4h2.009v-4zm-6.1-2.773l4.502 5.976 3.195-2.406-4.5-5.977-3.196 2.407zm4.653-7.488L35.75 14.67l2.947 2.705 4.528-4.932-2.947-2.705zm-.567 3.352h2.04v-4h-2.04v4zm-2.774 3.963l4.245-4.608-2.942-2.71-4.245 4.607 2.942 2.71zm-2.036.645h.565v-4h-.565v4zm-2-6.608V15.7h4V11.09h-4zm.354 2h1.646v-4h-1.646v4zm2 8.91V11.09h-4v10.91h4zm-.354-2h-1.646v4h1.646v-4zm-2-2.89V22h4v-4.89h-4zm3.13-2h-1.13v4h1.13v-4zm5.283 5.685l-3.687-4.89-3.194 2.408 3.686 4.89 3.195-2.408zM43.132 20h-.511v4h.51v-4zm.57-2.121c-.062 1.295-.247 1.872-.378 2.09-.039.064-.038.04.01.014.036-.019-.003.017-.202.017v4c.692 0 1.405-.129 2.07-.48a3.964 3.964 0 001.548-1.486c.674-1.12.88-2.555.947-3.966l-3.995-.19zm.127-2.778l-.128 2.78 3.996.184.128-2.78-3.996-.184zm4.672-1.908h-2.674v4h2.674v-4zm2 8.807v-6.807h-4V22h4zm-.44-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm-3.71 2h5.71v-4h-5.71v4zm1.855 1.702l.144-3.622-3.997-.159-.144 3.622 3.997.159zm-3.298 5.1c.46 0 1.069-.081 1.656-.46.596-.383.941-.924 1.146-1.418.354-.857.447-2.004.496-3.221l-3.997-.16c-.024.605-.058 1.05-.101 1.378a3.847 3.847 0 01-.063.362c-.02.084-.033.116-.031.111.006-.014.102-.233.384-.415.275-.176.506-.176.51-.176v4zm-.293 0h.293v-4h-.293v4zm2.005-.628l-.005-1.38-4 .016.005 1.38 4-.015zm7.127-8.174v5.95h4v-5.95h-4zm.439 2h1.56v-4h-1.56v4zm2 6.182v-8.182h-4V22h4zm-.269-2h-1.731v4h1.731v-4zm1.877-4.988l-3.59 5.956 3.426 2.065 3.59-5.955-3.425-2.066zM59.508 22v-5.955h-4V22h4zm-.439-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm.285 2h1.715v-4h-1.715v4zm-1.896 4.987l3.606-5.95-3.42-2.073-3.607 5.95 3.421 2.073zM62.759 20h-1.55v4h1.55v-4zm-2-4.807V22h4v-6.807h-4zm5.564-2h-3.564v4h3.564v-4zm2 8.807v-6.807h-4V22h4zm-.44-2h-1.56v4h1.56v-4zm-2-6.182V22h4v-8.182h-4zm-4.674 2h6.675v-4h-6.675v4zm2 6.182v-8.182h-4V22h4zm-38.481-2.642c1.696-1.115 1.696-3.6 0-4.716l-2.198 3.342a1.178 1.178 0 010-1.968l2.198 3.342zm-6.348 4.175l6.348-4.175-2.198-3.342-6.348 4.176 2.198 3.341zM14 21.175c0 2.26 2.51 3.588 4.38 2.358l-2.198-3.341a1.174 1.174 0 011.818.983h-4zm0-8.35v8.35h4v-8.35h-4zm4.38-2.358c-1.87-1.23-4.38.099-4.38 2.358h4c0 .947-1.047 1.49-1.818.984l2.198-3.342zm6.348 4.175l-6.348-4.175-2.198 3.341 6.348 4.176 2.198-3.342z\"\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default ClipBtnIcon;\r\n","import './VideoBtn.css';\r\nimport ClipBtnIcon from '../svg/ClipBtnIcon';\r\n\r\nfunction VideoBtn ({ videoLink }) {\r\n  return (\r\n    <a className='video-link-wrapper'\r\n      href={videoLink}\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n    >\r\n      <ClipBtnIcon className=\"video-link\" />\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default VideoBtn;\r\n","import cn from 'classnames';\r\nimport './Spinner.css';\r\n\r\nfunction Spinner ({ width='50%', height='50%', isImageLoaded }) {\r\n  return (\r\n    <div\r\n      className={cn(\"spinner\", {\"spinner_hidden\": isImageLoaded})}\r\n      style={{width, paddingBottom: height}}\r\n    >\r\n      <div className=\"spinner__content\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner;\r\n","export default __webpack_public_path__ + \"static/media/note-round-icon.c538843e.svg\";","import { useEffect, useState, useRef } from 'react';\r\nimport cn from 'classnames';\r\nimport './PlayerCover.css';\r\nimport Spinner from './Spinner';\r\nimport gag from '../../images/note-round-icon.svg';\r\n\r\nfunction PlayerCover({\r\n  image,\r\n  style,\r\n  trackName,\r\n  author,\r\n  originalAuthor\r\n}) {\r\n  const [isLoaded, setLoadState] = useState(false);\r\n  const imageLink = image ? image : gag;\r\n  const imageRef = useRef();\r\n\r\n  useEffect(() => { \r\n    /* в Safari изображения подгружаются в кеш, и грузятся из него так быстро, что useEffect срабатывает уже после подгрузки изображения, и всё ломает. Поэтому теперь это обернуто в if */\r\n    if (!imageRef.current.complete) {\r\n      setLoadState(false);\r\n    }\r\n  }, [image])\r\n  \r\n  const handleLoad = () => {\r\n    setLoadState(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"cover-wrapper\" style={style}>\r\n      <img\r\n        ref={imageRef}\r\n        src={imageLink}\r\n        className={cn(\"cover\", {\"cover_visible\": isLoaded})}\r\n        onLoad={handleLoad}\r\n        alt={`Обложка трека ${trackName}, исполняет ${author}, стихи ${originalAuthor}`}\r\n      />\r\n      <Spinner\r\n        isImageLoaded={isLoaded}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlayerCover;\r\n","export default __webpack_public_path__ + \"static/media/Контур любви — Хадн дадн feat. Варя Карпова и Федя Быстров.cb531876.mp3\";","export default __webpack_public_path__ + \"static/media/background.22961cb9.png\";","export default __webpack_public_path__ + \"static/media/background-new.756cdfc3.png\";","export default __webpack_public_path__ + \"static/media/four_new_tracks.f2584320.jpeg\";","export default __webpack_public_path__ + \"static/media/love_outline_cover.66f20682.jpg\";","export default __webpack_public_path__ + \"static/media/Природа — Jerk feat. Федя Быстров.826c0909.mp3\";","export default __webpack_public_path__ + \"static/media/Конец света — TYAGOTENIE feat. Варя Карпова.a73b2263.mp3\";","export default __webpack_public_path__ + \"static/media/Белочки — Бабба feat. Варя Карпова.be389704.mp3\";","import loveOutline from './audio/Контур любви — Хадн дадн feat. Варя Карпова и Федя Быстров.mp3';\r\nimport defaultBackground from '../images/background.png';\r\nimport newBackground from '../images/background-new.png';\r\nimport fourNewTracksCover from '../images/four_new_tracks.jpeg';\r\n\r\n// №1\r\nimport loveOutlineCover from '../images/love_outline_cover.jpg';\r\n// №2\r\nimport nature from './audio/Природа — Jerk feat. Федя Быстров.mp3';\r\n// №3\r\nimport doomsday from './audio/Конец света — TYAGOTENIE feat. Варя Карпова.mp3';\r\n// №4\r\nimport squirrels from './audio/Белочки — Бабба feat. Варя Карпова.mp3';\r\n// №5\r\nimport whiteCat from './audio/У белого кота — Света Лукьянова feat. Никита Тугумов.mp3';\r\n\r\n// Новые треки добавлять в начало массива\r\nexport const tracks = [\r\n  {\r\n    id: '№5',\r\n    trackName: 'У белого кота',\r\n    author: 'Света Лукьянова',\r\n    originalAuthor: 'Никита Тугумов',\r\n    text: `У белого кота есть чёрный-чёрный хвост\r\n    У белого кота есть чёрный-чёрный нос\r\n    У белого кота есть чёрные усы\r\n    У белого кота есть чёрные трусы\r\n    У белого кота\r\n    У белого кота\r\n    \r\n    У белого кота есть чёрные носки\r\n    У белого кота есть чёрные полоски\r\n    У белого кота есть чёрная спина\r\n    У белого кота есть чёрная жена\r\n    \r\n    Всё есть у белого кота\r\n    В сердце только пустота`,\r\n    link: whiteCat,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${newBackground})`,\r\n    },\r\n    albumPicture: fourNewTracksCover,\r\n    streamings: [\r\n      { \r\n        serviceLabel: 'Яндекс.Музыка',\r\n        serviceLink: 'https://music.yandex.ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'Spotify',\r\n        serviceLink: 'https://open.spotify.com/'\r\n      },\r\n      { \r\n        serviceLabel: 'Apple Music',\r\n        serviceLink: 'https://music.apple.com/ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'VK Music',\r\n        serviceLink: 'https://vk.com/music/'\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '№4',\r\n    trackName: 'Белочки',\r\n    author: 'Бабба',\r\n    originalAuthor: 'Варя Карпова',\r\n    text: `Я даже не помню, как я была маленькой\r\n    Я будто умерла и воскресла\r\n    Я будто спала и проснулась\r\n    Когда мне было три с половиной\r\n    Три с половиной ложки сахара\r\n    На полную чашку какао\r\n    Столько нам нужно с тобою, подруга,\r\n    Чтобы опять проснуться.\r\n    \r\n    Три с половиной щепотки любви\r\n    И заботы в этом бешеном ритме\r\n    Три с половиной грамма ванили\r\n    На нашу крепкую дружбу\r\n    Я научилась взвешивать в граммах,\r\n    Чтобы всё было чётко\r\n    Чтобы всё было ровно,\r\n    Чтобы всё было в ажуре.\r\n    \r\n    Святый боже\r\n    Я не могу быть такой как все\r\n    Все только и делают, что издеваются\r\n    Надо мной\r\n    Всё как-никак\r\n    Всё как и никак\r\n    О, белочки\r\n    \r\n    Святый боже\r\n    Я не могу быть такой как все\r\n    Все только и делают, что издеваются\r\n    Надо мной\r\n    Всё как-никак\r\n    Всё как и никак\r\n    О, белочки\r\n    \r\n    Я даже не помню как я была маленькой\r\n    Только странные ощущения экзистенциального ужаса\r\n    От того что не будет\r\n    Ни мамы, ни папы, ни брата, ни кошки\r\n    Меня, наконец\r\n    Только пустое забвение\r\n    Я будто умерла и воскресла\r\n    Я будто спала и проснулась\r\n    \r\n    Когда в три утра бегут мурашки\r\n    От всеобъемлющей паники\r\n    От безысходности бытия\r\n    А заодно ты идёшь в холодильник\r\n    Идёшь в холодильник, идёшь в холодильник\r\n    В нём три с половиной бутылки\r\n    Столько молока нам надо с тобою\r\n    Чтоб наконец заснуть\r\n    \r\n    Святый боже\r\n    Я не могу быть такой как все\r\n    Все только и делают, что издеваются\r\n    Надо мной\r\n    Всё как-никак\r\n    Всё как и никак\r\n    О, белочки\r\n    \r\n    Святый боже\r\n    Я не могу быть такой как все\r\n    Все только и делают, что издеваются\r\n    Надо мной\r\n    Всё как-никак\r\n    Всё как и никак\r\n    О, белочки`,\r\n    link: squirrels,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${newBackground})`,\r\n    },\r\n    albumPicture: fourNewTracksCover,\r\n    streamings: [\r\n      { \r\n        serviceLabel: 'Яндекс.Музыка',\r\n        serviceLink: 'https://music.yandex.ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'Spotify',\r\n        serviceLink: 'https://open.spotify.com/'\r\n      },\r\n      { \r\n        serviceLabel: 'Apple Music',\r\n        serviceLink: 'https://music.apple.com/ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'VK Music',\r\n        serviceLink: 'https://vk.com/music/'\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '№3',\r\n    trackName: 'Конец света',\r\n    author: 'TYAGOTENIE',\r\n    originalAuthor: 'Варя Карпова',\r\n    text: `Конец света\r\n    Конец света\r\n    Конец света\r\n    Настал\r\n    \r\n    Конец света\r\n    Конец света\r\n    Конец света\r\n    Настал\r\n    \r\n    Нам конец света настал\r\n    Нам конец света настал\r\n    Конец света настал\r\n    Нам\r\n    \r\n    Конец света настал\r\n    Конец света настал\r\n    Настал, настал, настал, настал,  \r\n    Настал, настал, настал\r\n    \r\n    Веки веков пришли наши\r\n    На веки веков мы ушли\r\n    Ничего нет, мы идём искать\r\n    Другую планету\r\n    \r\n    О нет, о нет, о нет,  о нет\r\n    \r\n    Наш конец света настал\r\n    Конец света настал\r\n    Навсегда\r\n    На веки веков\r\n    \r\n    Падём мы в вечную темноту\r\n    На скверную темноту\r\n    Ищем новую планету\r\n    Пригодную для жизни\r\n    \r\n    Пригодную для жизни\r\n    Пригодную для жизни. \r\n    Землю номер два \r\n    Землю номер два\r\n    \r\n    Конец света настал\r\n    Конец света настал\r\n    Конец света \r\n    Конец кошкам \r\n    Конец света\r\n    Всем людям\r\n    \r\n    Всем конец света настал\r\n    Всем конец света настал\r\n    Конец света настал\r\n    Нам\r\n    \r\n    Бам-ба-ба-бам`,\r\n    link: doomsday,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${newBackground})`,\r\n    },\r\n    albumPicture: fourNewTracksCover,\r\n    streamings: [\r\n      { \r\n        serviceLabel: 'Яндекс.Музыка',\r\n        serviceLink: 'https://music.yandex.ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'Spotify',\r\n        serviceLink: 'https://open.spotify.com/'\r\n      },\r\n      { \r\n        serviceLabel: 'Apple Music',\r\n        serviceLink: 'https://music.apple.com/ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'VK Music',\r\n        serviceLink: 'https://vk.com/music/'\r\n      },\r\n    ],\r\n  },\r\n  \r\n  \r\n  {\r\n    id: '№2',\r\n    trackName: 'Природа',\r\n    author: 'Jerk',\r\n    originalAuthor: 'Федя Быстров',\r\n    text: `Природа меня создала\r\n    Природа меня и убъёт\r\n    Потому что я \r\n    Потому что я \r\n    Потому что я идиот\r\n    \r\n    Природа, природа, природа, природа\r\n    Природа, природа, природа, природа\r\n    \r\n    Природа нас создала\r\n    Природа нас и убьёт\r\n    Потому что в раю\r\n    Потому что в раю \r\n    Потому что в раю всё вокруг поёт\r\n    \r\n    Потому что в раю\r\n    Потому что в раю \r\n    Потому что в раю всё вокруг поёт\r\n    \r\n    Природа, природа, природа, природа\r\n    Природа, природа, природа, пам-пам-пам-пам.`,\r\n    link: nature,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${newBackground})`,\r\n    },\r\n    albumPicture: fourNewTracksCover,\r\n    streamings: [\r\n      { \r\n        serviceLabel: 'Яндекс.Музыка',\r\n        serviceLink: 'https://music.yandex.ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'Spotify',\r\n        serviceLink: 'https://open.spotify.com/'\r\n      },\r\n      { \r\n        serviceLabel: 'Apple Music',\r\n        serviceLink: 'https://music.apple.com/ru/'\r\n      },\r\n      { \r\n        serviceLabel: 'VK Music',\r\n        serviceLink: 'https://vk.com/music/'\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: '№1',\r\n    trackName: 'Контур любви',\r\n    author: 'Хадн дадн',\r\n    originalAuthor: 'Варя Карпова и Федя Быстров',\r\n    text: `Мой милый, милый мальчик, \r\n      Моя милая, милая девочка.\r\n      Никогда не знаешь, что будет дальше\r\n      В этой гадкой зиме.\r\n      Мой милый, милый мальчик, \r\n      Моя милая, милая девочка.\r\n      Никогда не знаешь, что будет дальше\r\n      В этой гадкой зиме.\r\n      \r\n      Но я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.\r\n      Я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.\r\n        \r\n      Мы выйдем на лужочек,\r\n      Мы выйдем на поляночку.\r\n      На том лужочке и полянке\r\n      Будем мы всегда.\r\n      Пройдут многие годы,\r\n      И много изменится.\r\n      А ты в других домах, случайных снах\r\n      Заглядывай сюда.\r\n        \r\n      Где я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.\r\n      Я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.\r\n      Я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.\r\n      Я так сильно люблю тебя, \r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу за контур любви,\r\n      Что выхожу.`,\r\n    link: loveOutline,\r\n    videoLink: '',\r\n    theme: {\r\n      color: '#fff',\r\n      backgroundColor: 'white',\r\n      backgroundImage: `url(${defaultBackground})`,\r\n    },\r\n    albumPicture: loveOutlineCover,\r\n    streamings: [\r\n      { \r\n        serviceLabel: 'Яндекс.Музыка',\r\n        serviceLink: 'https://music.yandex.ru/album/12769745'\r\n      },\r\n      { \r\n        serviceLabel: 'Spotify',\r\n        serviceLink: 'https://open.spotify.com/track/0FRjmDhfKmVARMOvmUm6no?si=rwTima3JQaWdse3mrQko1g'\r\n      },\r\n      { \r\n        serviceLabel: 'Apple Music',\r\n        serviceLink: 'https://music.apple.com/ru/album/контур-любви-feat-варя-карпова-федя-быстров-single/1539942736'\r\n      },\r\n      { \r\n        serviceLabel: 'VK Music',\r\n        serviceLink: 'https://vk.com/music/album/-2000389059_9389059_4fb8e57c6b6b7b1795'\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default tracks;\r\n","export default __webpack_public_path__ + \"static/media/У белого кота — Света Лукьянова feat. Никита Тугумов.15a7deec.mp3\";","import { useState, useEffect } from 'react';\r\nimport { useSpring, animated } from 'react-spring';\r\nimport './Player.css';\r\nimport PlayerController from './PlayerController';\r\nimport PlayerSwitcher from './PlayerSwitcher';\r\nimport ExtendBtn from './ExtendBtn';\r\nimport PlayerInfoContainer from './PlayerInfoContainer';\r\nimport VideoBtn from './VideoBtn';\r\nimport PlayerCover from './PlayerCover';\r\nimport tracks from '../../db/tracks';\r\n\r\nfunction Player({ isPlayerExtend, onPlayerExtend, style, currentTrack, onSetCurrentTrack, isVideoModalOpened, refanalyzerCanvas }) {\r\n  const [isTextInfo, setTextInfo] = useState(false);\r\n  const [isExtendElementsMounted, setIsExtendElementsMounted] = useState(false);\r\n\r\n  const extendPlayerAnimationConfig = useSpring({\r\n    from: { opacity: .1, scale: 0.8 },\r\n    to: { opacity: isPlayerExtend ? 1 : 0.1, scale: isPlayerExtend ? 1 : 0.8 },\r\n    config: { duration: 250 },\r\n    onRest: () => {\r\n      if (!isPlayerExtend) {\r\n        setIsExtendElementsMounted(false);\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleExtendClick = () => {\r\n    onPlayerExtend();\r\n    setIsExtendElementsMounted(true);\r\n  }\r\n\r\n  const [currentTrackIndex, setCurrentTrackIndex] = useState(tracks.indexOf(currentTrack));\r\n\r\n  useEffect(() => {\r\n    setCurrentTrackIndex(tracks.indexOf(currentTrack));\r\n  }, [currentTrack]);\r\n\r\n  const handleForwardClick = () => {\r\n    if (currentTrackIndex < tracks.length - 1) {\r\n      onSetCurrentTrack(tracks[currentTrackIndex + 1]);\r\n    } else if (currentTrackIndex === tracks.length - 1) {\r\n      onSetCurrentTrack(tracks[0]);\r\n    }\r\n  }\r\n\r\n  const handleBackwardClick = () => {\r\n    if (currentTrackIndex === 0) {\r\n      onSetCurrentTrack(tracks[tracks.length - 1]);\r\n    } else if (currentTrackIndex > 0) {\r\n      onSetCurrentTrack(tracks[currentTrackIndex - 1]);\r\n    }\r\n  }\r\n\r\n  const handleTrackEnd = () => {\r\n    if (currentTrackIndex < tracks.length - 1) {\r\n      onSetCurrentTrack(tracks[currentTrackIndex + 1]);\r\n      return false;\r\n    } else return true;\r\n    // Возвращаем true, если трек -- последний в списке.\r\n  }\r\n\r\n  const handlePlayerSwitcherClick = () => {\r\n    setTextInfo(!isTextInfo);\r\n  }\r\n\r\n  const AnimatedPlayerCover = animated(PlayerCover);\r\n\r\n  /* Для десктопов: плеер выезжает через 3 секунды после загрузки страницы. \r\n  Рисуем компонент обложки и кнопки \"Клип\" и \"Релизы\".\r\n  Для отключения закомментить этот useEffect */\r\n  useEffect(() => {\r\n    if (isPlayerExtend) {\r\n      setIsExtendElementsMounted(true);\r\n    }\r\n  }, [isPlayerExtend]);\r\n\r\n  return (\r\n    <section className=\"player\" style={style}>\r\n      {isExtendElementsMounted &&\r\n        <AnimatedPlayerCover\r\n          image={currentTrack.albumPicture}\r\n          style={extendPlayerAnimationConfig}\r\n          trackName={currentTrack.trackName}\r\n          author={currentTrack.author}\r\n          originalAuthor={currentTrack.originalAuthor}\r\n        />\r\n      }\r\n      <PlayerController\r\n        isPlayerExtend={isPlayerExtend}\r\n        isVideoModalOpened={isVideoModalOpened}\r\n        track={currentTrack}\r\n        onForwardClick={handleForwardClick}\r\n        onBackwardClick={handleBackwardClick}\r\n        onTrackEnd={handleTrackEnd}\r\n        // v3\r\n        refanalyzerCanvas={refanalyzerCanvas}\r\n      />\r\n      <ExtendBtn\r\n        isOpen={isPlayerExtend}\r\n        onBtnClick={handleExtendClick}\r\n      />\r\n      {isPlayerExtend &&\r\n        <PlayerInfoContainer\r\n          isOpen={isPlayerExtend}\r\n          onTrackClick={onSetCurrentTrack}\r\n          tracks={tracks}\r\n          isTextInfo={isTextInfo}\r\n          currentTrack={currentTrack}\r\n\r\n        />\r\n      }\r\n      {isExtendElementsMounted &&\r\n        <animated.div\r\n          className=\"player__buttons-wrapper\"\r\n          style={extendPlayerAnimationConfig}\r\n        >\r\n          <PlayerSwitcher\r\n            onClick={handlePlayerSwitcherClick}\r\n            isTextInfo={isTextInfo}\r\n          />\r\n          {currentTrack.videoLink &&\r\n            <VideoBtn\r\n              videoLink={currentTrack.videoLink}\r\n            />\r\n          }\r\n        </animated.div>\r\n      }\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Player;\r\n","\r\nimport { useSpring, animated, } from 'react-spring';\r\nimport { useMediaQuery } from 'react-responsive';\r\nimport './Main.css';\r\nimport Header from './Header/Header';\r\nimport ProjectLogo from './ProjectLogo';\r\nimport Player from './Player/Player';\r\n\r\n\r\nfunction Main({ onPlayerExtend, isPlayerExtend, isLandscape, isMobile, onSetCurrentTrack, currentTrack, isVideoModalOpened, onVideoModalOpen, refanalyzerCanvas }) {\r\n  const isTablet = useMediaQuery({ query: '(max-width: 768px)' });\r\n  const isNarrowDesktop = useMediaQuery({ query: '(max-width: 1024px)' });\r\n  const isShortMobile = useMediaQuery({ query: '(max-width: 480px) and (max-height: 550px)' });\r\n  const isTallMobile = useMediaQuery({ query: '(max-width: 480px) and (min-height: 551px)' });\r\n  const isMobileLandscape = useMediaQuery({ query: '(orientation: landscape) and (max-height: 480px)' });\r\n  const AnimatedPlayer = animated(Player);\r\n\r\n  const calcDefaultHeight = () => {\r\n    switch (true) {\r\n      case isMobile:\r\n        return \"136px\";\r\n      default:\r\n        return \"48px\";\r\n    }\r\n  };\r\n\r\n  const calcExtendedHeight = () => {\r\n    switch (true) {\r\n      case isTallMobile:\r\n        return '584px';\r\n      case isShortMobile:\r\n        return '319px';\r\n      case isMobileLandscape:\r\n        return '198px';\r\n      case isTablet:\r\n        return '270px';\r\n      case isNarrowDesktop:\r\n        return '224px';\r\n      default:\r\n        return '244px';\r\n    }\r\n  };\r\n\r\n  const extendСonfig = useSpring({\r\n    to: { height: isPlayerExtend ? calcExtendedHeight() : calcDefaultHeight() },\r\n    config: { mass: 1, tension: isMobile ? 100 : 120, friction: 17 }\r\n  });\r\n\r\n  return (\r\n    <section className=\"main\">\r\n      <Header\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n        currentTrack={currentTrack}\r\n        onVideoModalOpen={onVideoModalOpen}\r\n      />\r\n      <ProjectLogo\r\n        isPlayerExtend={isPlayerExtend}\r\n        isMobile={isMobile}\r\n        isLandscape={isLandscape}\r\n      />\r\n      <AnimatedPlayer\r\n        isPlayerExtend={isPlayerExtend}\r\n        onPlayerExtend={onPlayerExtend}\r\n        style={extendСonfig}\r\n        currentTrack={currentTrack}\r\n        onSetCurrentTrack={onSetCurrentTrack}\r\n        isVideoModalOpened={isVideoModalOpened}\r\n        // v3\r\n        refanalyzerCanvas={refanalyzerCanvas}\r\n      />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import './TextContainer.css';\r\n\r\nfunction TextContainer(props) {\r\n    return (\r\n        <div className=\"text-container\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TextContainer;\r\n","import './TextBlock.css';\r\nimport './TextContainer.js';\r\nimport TextContainer from './TextContainer.js';\r\n\r\nfunction TextBlock() {\r\n    return (\r\n      <div className=\"text\">\r\n\r\n        <TextContainer>\r\n          <h2 className=\"text-container__heading\">О проекте</h2>\r\n          <p className=\"text-container__paragraph\">\r\n            <span className=\"text-container__paragraph_double\">\r\n            Мы знаем, что наши дети постоянно существуют в режиме непрекращающегося творческого процесса. Мы видим это, когда ребёнок что-то напевает, когда он бесконечно рисует, когда придумывает истории, когда разговаривает с едой и игрушками — дети постоянно включены и что-то изобретают. Родители часто недооценивают это спонтанное творчество ребёнка. Это не плохо, просто мы привыкаем к этому. Давайте попробуем внимательнее присмотреться к нашим детям.\r\n            </span>\r\n            Мы запускаем проект «Турбина», который открывает работу настоящего музыкального лейбла на базе «Маршака». В рамках проекта «Турбина» лучшие современные инди-музыканты пишут свои песни на стихи, написанные детьми. Здесь важно — мы не заставляем наших детей садиться и писать поэзию, мы говорим о том, что родителям стоит быть более внимательными и чуткими к своим детям. Именно так мы сможем получить тексты, которые перестанут быть детскими, не будут осмыслены как взрослые — поэзия, которая сокращает дистанцию между взрослостью и детством, где спонтанное детское творчество и бессознательное, замеченное родителем, становится общественным культурным достоянием.\r\n          </p>\r\n        </TextContainer>\r\n\r\n        <TextContainer>\r\n          <h2 className=\"text-container__heading\">Как это работает</h2>\r\n          <p className=\"text-container__paragraph\">\r\n            Вы можете прислать нам тексты, родившиеся у ваших детей, которые вы записали и считаете, что это сильное высказывание. Мы собираем пул таких текстов и передаём их музыкантам. Артисты создают музыку на эти стихи. Мы продюсируем выпуск трека, возможно съёмки клипа и так далее. Мы всегда указываем автора стихотворений внутри релиза: Хадн дадн feat. Варя Карпова и Федя Быстров — Контур Любви.\r\n          </p>\r\n        </TextContainer>\r\n\r\n        <TextContainer>\r\n          <h2 className=\"text-container__heading\">Тезисы</h2>\r\n          <ul className=\"text-container__list text-container__paragraph\">\r\n            <li className=\"text-container__list-item\">\r\n              Дети никогда не прекращают творить, и круто стараться быть на них похожими в этом.\r\n            </li>\r\n            <li className=\"text-container__list-item\">\r\n              Детское бессознательное помогает родителям понять, что происходит внутри семьи.\r\n            </li>\r\n            <li className=\"text-container__list-item\">\r\n              Не существует детской и взрослой поэзии. Существует мысль и чувство, зафиксированные в ней.\r\n            </li>\r\n            <li className=\"text-container__list-item\">\r\n              Дети получают невероятное удовольствие и мотивацию от того, что их творчество востребовано сверстниками и взрослыми.\r\n            </li>\r\n          </ul>\r\n        </TextContainer>\r\n\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default TextBlock;\r\n","import { useState, useCallback } from 'react';\r\n\r\nfunction useFormWithValidation(setCustomValidity) {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        age: '',\r\n        email: '',\r\n        tel: '',\r\n        text: '',\r\n        offer: false,\r\n        type: 'parent'\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n    function handleChange(evt) {\r\n        const target = evt.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n        const isCheckbox = target.type === 'checkbox';\r\n\r\n        setCustomValidity(target);\r\n\r\n        setValues({\r\n            ...values,\r\n            [name]: isCheckbox ? target.checked : value\r\n        });\r\n\r\n        setErrors({\r\n            ...errors,\r\n            [name]: target.validationMessage\r\n        });\r\n\r\n\r\n        setIsFormValid(target.closest('form').checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {\r\n            name: '',\r\n            age: '',\r\n            email: '',\r\n            tel: '',\r\n            text: '',\r\n            offer: false,\r\n            type: 'parent'\r\n        }, \r\n        newErrors = {}, \r\n        newIsFormValid = false) => {\r\n          setValues(newValues);\r\n          setErrors(newErrors);\r\n          setIsFormValid(newIsFormValid);\r\n        },\r\n        [setValues, setErrors, setIsFormValid]\r\n      );\r\n\r\n\r\n    return { values, handleChange, errors, isFormValid, resetForm }\r\n}\r\n\r\nexport default useFormWithValidation;","//Кастомизация ошибок для валидации формы\r\nexport default function setCustomValidity (target) {\r\n        target.setCustomValidity('');\r\n\r\n        if (!target.validity.valid){\r\n             if (target.validity.valueMissing) {\r\n                target.setCustomValidity('Это поле обязательно');\r\n            } else if (target.name === 'name' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Имя и фамилия могут содержать только буквы')\r\n            }  else if (target.name === 'tel' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Номер телефона может содержать только цифры и символы \"+\", \"-\"')\r\n            } else if (target.validity.tooShort) {\r\n                target.setCustomValidity(`Введенное значение должно быть длинее ${target.minLength} символов`);\r\n            } else if (target.validity.tooLong) {\r\n                target.setCustomValidity(`Введенное значение должно быть короче ${target.maxLength} символов`)\r\n            } else if (target.name === 'email' & target.validity.patternMismatch) {\r\n                target.setCustomValidity('Пожалуйста, не забудьте \"@\" и домен')\r\n            } else if (target.name === 'age' && (target.validity.rangeOverflow || target.validity.rangeUnderflow)) {\r\n                target.setCustomValidity(`Пожалуйста, введите возраст в диапазоне от ${target.min} до ${target.max}`)\r\n            }\r\n        } \r\n    }\r\n\r\n  ","class Api {\r\n    constructor(options) {\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n    _prepareBody(values) {\r\n        const query = new URLSearchParams();\r\n\r\n        Object.keys(values).forEach((k) => {\r\n            query.set(k, values[k]);\r\n        });\r\n\r\n        return query;\r\n    }\r\n\r\n    //На случай, если есть несколько GET запросов с разными данными\r\n    getData() {\r\n        return fetch(`${this._url}`, {\r\n            headers: this._headers,\r\n        });\r\n    }\r\n\r\n    //GET запрос на массив с треками\r\n    getTracksData() {\r\n        return this.getData()\r\n           .then(res => this._getResponseData(res));  \r\n    }\r\n\r\n    //POST запрос для отправки формы\r\n    submitForm(formData) {\r\n        return fetch(`${this._url}`, {\r\n            method: 'POST',\r\n            headers:  this._headers,\r\n            body: this._prepareBody(formData)\r\n        }).then(res => this._getResponseData(res));\r\n       \r\n    }\r\n}\r\n\r\n//Сюда подставляется любой URL и заголовки для отправки данных формы. Отправка протестирована и стабильна.\r\nconst options = {\r\n    url: 'https://script.google.com/macros/s/AKfycby00KFN7at2vTHZAAYa3ONDczYx3xOsV7KRyOiZd5jyEZpymvo/exec',\r\n    headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n};\r\n\r\nexport const api = new Api(options);\r\n\r\n\r\n// //Тестовый АПИ для получения плейлиста\r\n// const testTracks = {\r\n//     url: \"https://theaudiodb.p.rapidapi.com/track-top10.php?s=a-ha\", \r\n//     headers: {\r\n//             \"x-rapidapi-key\": \"180d4b6064mshe91e0635eaa070cp1dee42jsn9a8834b63295\",\r\n//             \"x-rapidapi-host\": \"theaudiodb.p.rapidapi.com\"\r\n//         }\r\n// }\r\n\r\n// export const testGetRequest = new Api(testTracks);\r\n\r\n//Получаем из API данные плейлиста. Сейчас это тестовый запрос на RapidApi, возвращает массив треков.\r\n//Данный запрос подставляется в компонент Player, получает массив треков и сетит его в стейт:\r\n// const [tracks, setTracks] = React.useEffect([]);\r\n\r\n//   React.useEffect(() => {\r\n//     testGetRequest.getTracksData()\r\n//        .then((tracksData) => {\r\n//          console.log(tracksData);\r\n//          setTracks(tracksData);\r\n//        })\r\n//        .catch((err) => {\r\n//           console.log(err);\r\n//        });\r\n//   }, []);\r\n\r\n//Далее данные из полученного массива передаются в плейлист.\r\n","import React from 'react';\r\nimport './Form.css';\r\nimport cn from 'classnames';\r\nimport useFormWithValidation from '../hooks/useFormWithValidation.js';\r\nimport setCustomValidity from '../utils/setCustomValidity.js';\r\nimport { api } from '../utils/Api.js';\r\nimport TextContainer from './TextContainer.js';\r\n\r\n\r\n\r\nfunction Form() {\r\n\r\n    const { values, handleChange, errors, isFormValid, resetForm } = useFormWithValidation(setCustomValidity);\r\n    const [isSubmitted, setIsSubmitted] = React.useState(false);\r\n    const [isSuccess, setIsSuccess] = React.useState(false);\r\n    const [isErrorVisible, setIsErrorVisible] = React.useState(false);\r\n    const [isMusician, setIsMusician] = React.useState(false);\r\n\r\n    const inputNameStyle = cn('form__input', 'form__input_name', {'form__input_invalid': errors.name});\r\n    const inputAgeStyle = cn('form__input', 'form__input_age', {'form__input_invalid': errors.age});\r\n    const inputTelStyle = cn('form__input', 'form__input_tel', {'form__input_invalid': errors.tel});\r\n    const inputEmailStyle = cn('form__input', 'form__input_email', {'form__input_invalid': errors.email});\r\n    const inputTextStyle = cn('form__textarea', 'form__input', {'form__input_invalid': errors.text});\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        setIsSubmitted(true);\r\n\r\n        api.submitForm(values)\r\n           .then(() => {\r\n              setIsSuccess(true);\r\n              setIsSubmitted(false);\r\n              setIsErrorVisible(false);\r\n              setIsMusician(false);\r\n              resetForm();\r\n\r\n              setTimeout(() => \r\n                setIsSuccess(false),\r\n                5000\r\n              );\r\n           })\r\n           .catch((err) => {\r\n               console.log(err);\r\n               setIsSubmitted(false);\r\n               setIsErrorVisible(true);\r\n           })\r\n    }\r\n\r\n    function handleIsMusicianClick() {\r\n      setIsMusician(true);\r\n    }\r\n\r\n    function handleIsParentClick() {\r\n      setIsMusician(false);\r\n    }\r\n\r\n    return(\r\n        <div className=\"form-container\" id=\"form-participate\">\r\n\r\n          <TextContainer>\r\n            <h2 className=\"text-container__heading\">Форма</h2>\r\n            <p className=\"text-container__paragraph\">Заполните эту форму и вы можете стать частью проекта.</p>\r\n          </TextContainer>\r\n\r\n        <form className=\"form\" name=\"send-poem\" onSubmit={handleSubmit} noValidate>\r\n           \r\n           <div className=\"form__type-buttons\">\r\n             <label htmlFor=\"parent\" className=\"form__input_type-label\">\r\n               <input type=\"radio\" name=\"type\" id=\"parent\" className=\"form__input_type-choice\" value=\"parent\" onClick={handleIsParentClick} onChange={handleChange} checked={!isMusician} />\r\n               <span className=\"form__choice-pseudo-item\">Я родитель</span>\r\n             </label>\r\n\r\n             <label htmlFor=\"musician\" className=\"form__input_type-label\">\r\n              <input type=\"radio\" name=\"type\" id=\"musician\" className=\"form__input_type-choice\" value=\"musician\" onClick={handleIsMusicianClick} onChange={handleChange} checked={isMusician} />\r\n              <span className=\"form__choice-pseudo-item\">Я музыкант</span>\r\n             </label>\r\n           </div>\r\n\r\n                <input \r\n                  className={inputNameStyle}\r\n                  name=\"name\" \r\n                  placeholder={(!isMusician && 'Имя и фамилия автора') || (isMusician && 'Представьтесь, пожалуйста')}\r\n                  required \r\n                  minLength=\"2\" \r\n                  maxLength=\"50\" \r\n                  pattern=\"^[A-Za-zА-Яа-яёЁ\\s\\-]+$\"\r\n                  value={values.name || ''}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.name && <span className=\"form__input-error\">{errors.name}</span>}\r\n\r\n                {!isMusician && <input \r\n                  className={inputAgeStyle}\r\n                  type=\"number\"\r\n                  name=\"age\" \r\n                  placeholder=\"Возраст автора\"\r\n                  required\r\n                  min=\"1\"\r\n                  max=\"99\"\r\n                  value={values.age || ''}\r\n                  onChange={handleChange}\r\n                />}\r\n                {!isMusician && errors.age && <span className=\"form__input-error\">{errors.age}</span>}\r\n\r\n                <input \r\n                  className={inputTelStyle}\r\n                  type=\"tel\" \r\n                  name=\"tel\" \r\n                  placeholder=\"Телефон\" \r\n                  required\r\n                  minLength=\"10\"\r\n                  maxLength=\"20\"\r\n                  pattern=\"^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$\"\r\n                  value={values.tel || ''}\r\n                  onChange={handleChange}\r\n                />\r\n               {errors.tel && <span className=\"form__input-error\">{errors.tel}</span>}\r\n\r\n                <input \r\n                  className={inputEmailStyle}\r\n                  type=\"email\" \r\n                  name=\"email\" \r\n                  placeholder=\"Почта\" \r\n                  required \r\n                  minLength=\"6\" \r\n                  maxLength=\"50\" \r\n                  pattern=\"^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$\"\r\n                  value={values.email || ''}\r\n                  onChange={handleChange}\r\n                />\r\n                {errors.email && <span className=\"form__input-error\">{errors.email}</span>}\r\n\r\n\r\n                <textarea \r\n                  className={inputTextStyle}\r\n                  name=\"text\"\r\n                  placeholder={(!isMusician && 'Стихи') || (isMusician && 'Ссылка на вашу музыку')}\r\n                  required\r\n                  value={values.text || ''}\r\n                  onChange={handleChange}\r\n                >\r\n                </textarea>\r\n                {errors.text && <span className=\"form__input-error\">{errors.text}</span>}\r\n\r\n      \r\n                <label htmlFor=\"offer\" className=\"form__input-label\">\r\n                  <input \r\n                    className=\"form__input_radio\" \r\n                    type=\"checkbox\" \r\n                    name=\"offer\" \r\n                    value=\"agree\" \r\n                    id=\"offer\"\r\n                    required \r\n                    checked={values.offer}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <span className=\"form__pseudo-item\"></span>\r\n\r\n                  {/* <span className=\"form__label-text\">Согласен с <a className=\"form__offer-link\" target=\"_blank\" href=\"#\" rel=\"noreferrer\">офертой</a></span> */}\r\n                  <span className=\"form__label-text\">\r\n                    {\r\n                      isMusician\r\n                        ? 'Да-да, я понимаю, что соглашаюсь написать музыку на детские стихи'\r\n                        : 'Я разрешаю передавать стихи музыкантам и создавать музыку на них'\r\n                    }\r\n                  </span>\r\n                </label>\r\n                  \r\n                {errors.offer && <span className=\"form__input-error\">{errors.offer}</span>}\r\n\r\n\r\n                <button type=\"submit\" className=\"form__submit-button\" disabled={!isFormValid}>\r\n                  <span className=\"form__button-text\">\r\n                    {isSubmitted ? 'Отправляем...' : isSuccess ? 'Ура, форма отправлена!' : 'Отправить форму'}\r\n                  </span>\r\n                </button>\r\n                {isErrorVisible && <span className=\"form__wrong-submit\">Упс, что-то пошло не так и форма не отправилась, попробуйте ещё раз!</span>}\r\n                {!isFormValid && <span className=\"form__fill-hint\">Чтобы отправить форму, пожалуйста, заполните все поля</span>}\r\n\r\n                \r\n            </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import './Info.css';\r\nimport TextBlock from './TextBlock.js';\r\nimport Form from './Form.js';\r\n\r\nfunction Info () {\r\n  return (\r\n    <section className=\"info-container\">\r\n\r\n      <TextBlock />\r\n\r\n      <Form />\r\n  \r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Info;\r\n","import './MarshakNavigation.css'\r\nimport cn from 'classnames';\r\n\r\nfunction MarshakNavigation ({ className, links }) {\r\n  return (\r\n    <div className={cn('marshak-navigation', className)}>\r\n      <p className=\"copyright\">&copy; Маршак</p>\r\n      <ul className=\"marshak-navigation__links\">\r\n        {links.map((item) => (\r\n          <li className=\"marshak-navigation__link-container\" key={item.link}>\r\n            <a\r\n              className=\"marshak-navigation__link\"\r\n              href={item.link}\r\n              target={item.target}\r\n              rel=\"noreferrer\"\r\n            >\r\n              {item.title}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MarshakNavigation;\r\n","import './SocialNetworks.css';\r\nimport cn from 'classnames';\r\nimport { socialNetworks } from '../../configs/links';\r\n\r\nfunction SocialNetworks ({ className }) {\r\n  return (\r\n    <ul className={cn('social-networks', className)}>\r\n      {socialNetworks.map((item) => (\r\n        <li className=\"social-networks__item\" key={item.name}>\r\n          <a\r\n            className=\"social-networks__link\"\r\n            href={item.link}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            <item.IconElement className={item.className} />\r\n          </a>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default SocialNetworks;\r\n","import './Footer.css';\r\nimport { yandexPraktikumLink, marshakNavLinks } from '../../configs/links';\r\nimport MarshakNavigation from './MarshakNavigation';\r\nimport SocialNetworks from './SocialNetworks';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"footer__links\">\r\n        <MarshakNavigation className=\"footer__marshak\" links={marshakNavLinks} />\r\n        <SocialNetworks className=\"footer__social\" />\r\n        <p className=\"footer__paragraph footer__yandex\">\r\n          Сделано студентами&#8196;\r\n          <a\r\n            className=\"footer__link\"\r\n            href={yandexPraktikumLink.link}\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            {yandexPraktikumLink.title}\r\n          </a>\r\n        </p>\r\n      </div>\r\n      <p className=\"footer__owner-info footer__paragraph\">\r\n        ИП&nbsp;Карпов Сергей Сергеевич. Свидетельство о&nbsp;государственной регистрации 34 \r\n        &#8470;&nbsp;004421830; ИНН&nbsp;343510777851; ОГРНИП&nbsp;316344300079818. \r\n      </p>\r\n      <p className=\"footer__owner-info footer__paragraph\">\r\n        Мы&nbsp;работаем: 11:00&nbsp;&mdash; 20:00; Наш адрес: Казарменный \r\n        пер.&nbsp;4, стр.&nbsp;3; Телефон: +7&nbsp;(905)&nbsp;567&#8209;33&#8209;53, +7&nbsp;(999)&nbsp;831&#8209;51&#8209;08; \r\n        marshakbooks@gmail.com\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","/* eslint-disable no-unused-vars */\r\nconst transformElement = (evt, element, method = 'position') => { \r\n  // текущий размер вьюпорта\r\n  const windowWidth = window.innerWidth;\r\n  const windowHeight = window.innerHeight;\r\n  // вычисляем смещение относительно left/top нуля\r\n  const x = 100 - Math.round((evt.clientX / windowWidth) * 100);\r\n  const y = 100 - Math.round((evt.clientY / windowHeight) * 100);\r\n  // ускоритель - чем меньше - тем кратно меньше смещение. НЕ УСТАНАВЛИВАТЬ\r\n  // БОЛЬШЕ 1! - особенности реализации фона!\r\n  const deflector = 1;\r\n  element.style.backgroundPosition = `${x * deflector}% ${y * deflector}%`;\r\n}\r\n\r\nexport default transformElement\r\n","import './Background.css';\r\nimport { animated, Transition } from 'react-spring';\r\nimport { useEffect, useRef } from 'react';\r\nimport transformElement from '../utils/transformElement';\r\nimport throttle from '../utils/simpleThrottle';\r\n\r\nfunction Background({ isPlayerExtend, isMobile, currentTrack }) {\r\n  const bgElementRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const throttlingTransform = throttle((e) => transformElement(e, bgElementRef.current, 'position'), 25);\r\n    window.addEventListener('mousemove', throttlingTransform);\r\n    return () => window.removeEventListener('mousemove', throttlingTransform);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n    <Transition\r\n      items={currentTrack}\r\n      from={{ opacity: 0 }}\r\n      enter={{ opacity: 1 }}\r\n      leave={{ opacity: 0 }}\r\n      initial={{ opacity: 1 }}\r\n      config={{ mass: 1, tension: 280, friction: 120 }}\r\n      keys={() => currentTrack}\r\n    > \r\n      {(values, item) => (\r\n        <animated.div\r\n          ref={bgElementRef}\r\n            className=\"background\"\r\n            style={{ backgroundImage: `${item.theme.backgroundImage}`, ...values}}\r\n        >\r\n{/*       <canvas className=\"canvas\" ref={canvasRef}>\r\n            <img ref={bgElementRef} src={templateImg} alt=\"тема офрмления трека сайта ТурбинА\"/>\r\n          </canvas> */}\r\n        </animated.div>\r\n      )}\r\n    </Transition>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Background;\r\n","export default function throttle(callback, limit) {\r\n  let waiting = false;\r\n  return (...rest) => {\r\n    if (!waiting) {\r\n      callback.apply(this, rest);\r\n      waiting = true;\r\n      setTimeout(() => {\r\n        waiting = false;\r\n      }, limit);\r\n    }\r\n  };\r\n}\r\n","import cn from 'classnames';\r\nimport './Blur.css';\r\n\r\nfunction Blur({ isPlayerExtend, isMobile, isLandscape }) {\r\n  const blurLayerStyle = cn('blur__layer', { 'blur__layer_active': isPlayerExtend && (isMobile || isLandscape) })\r\n\r\n  return (\r\n    <div className={blurLayerStyle}></div>\r\n  )\r\n}\r\n\r\nexport default Blur;\r\n","import { useState, useEffect } from \"react\";\r\nimport cn from \"classnames\";\r\nimport YTPlayer from \"yt-player\";\r\nimport \"./VideoModal.css\";\r\nimport \"../style-mixes/main-button/main-button.css\";\r\n\r\nfunction VideoModal({ videoModalData, isVideoModalOpened, onVideoModalClose }) {\r\n  const [videoPlayer, setVideoPlayer] = useState({});\r\n\r\n  const handleVideoModalClose = () => {\r\n    onVideoModalClose();\r\n    videoPlayer.pause();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isVideoModalOpened) {\r\n      videoPlayer.load(videoModalData.youtubeId);\r\n    }\r\n  }, [isVideoModalOpened]);\r\n\r\n  useEffect(() => {\r\n    setVideoPlayer(new YTPlayer(\"#video-player\"));\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div\r\n      className={cn(\"modal\", {\r\n        \"modal_opened\": isVideoModalOpened,\r\n      })}\r\n    >\r\n      <div className=\"modal__content\">\r\n        <h2 className=\"modal__title\">{videoModalData.title}</h2>\r\n        <div\r\n          className=\"modal__iframe-container\"\r\n        >\r\n          <iframe\r\n            id=\"video-player\"\r\n            className=\"modal__iframe\"\r\n            src={\r\n              videoModalData.src ? `${videoModalData.src}?enablejsapi=1` : \"\"\r\n            }\r\n            title=\"YouTube\"\r\n            allowFullScreen\r\n          ></iframe>\r\n        </div>\r\n        <button\r\n          className=\"modal__close-button main-button main-button_type_common\"\r\n          type=\"button\"\r\n          onClick={handleVideoModalClose}\r\n        >\r\n          Закрыть\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideoModal;\r\n","export default __webpack_public_path__ + \"static/media/background-blur.c25e08a2.jpg\";","import './VisualizerCanvas.css';\r\nimport cn from 'classnames';\r\n\r\nfunction VisualizerCanvas({ isMobile, isLandscape, isPlaying, track, refanalyzerCanvas }) {\r\n  return (\r\n    <div className='visualizer'>\r\n      <canvas\r\n        className={cn('visualizer__bar',\r\n          { 'visualizer__bar_active': !isMobile && !isLandscape && isPlaying })}\r\n        ref={refanalyzerCanvas}\r\n        id=\"analyzer\">\r\n      </canvas>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VisualizerCanvas;\r\n","import './App.css';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport Main from './Main';\r\nimport Info from './Info';\r\nimport Footer from './Footer/Footer';\r\nimport Background from './Background';\r\nimport Blur from './Blur';\r\nimport VideoModal from './VideoModal';\r\nimport backgroundBlur from '../images/background-blur.jpg';\r\nimport tracks from '../db/tracks';\r\nimport VisualizerCanvas from './VisualizerCanvas';\r\n\r\nfunction App() {\r\n  const [isPlayerExtend, setPlayerState] = useState(false);\r\n  const isMobile = useMediaQuery({ query: '(max-width: 480px)' });\r\n  const isLandscape = useMediaQuery({ query: '(orientation:landscape) and (max-height: 600px)' });\r\n  const isDesktop = useMediaQuery({ query: '(min-width: 1024px)' });\r\n  const onPlayerExtend = () => {\r\n    setPlayerState(!isPlayerExtend);\r\n  }\r\n  const [currentTrack, setCurrentTrack] = useState(tracks[0]);\r\n  const [playerExtendTimer, setPlayerExtendTimer] = useState(0);\r\n  const [isVideoModalOpened, setIsVideoModalOpened] = useState(false);\r\n  const [videoModalData, setVideoModalData] = useState({\r\n    title: '',\r\n    src: '',\r\n    youtubeId: '',\r\n  });\r\n  const analyzerCanvas = useRef();\r\n\r\n  function onVideoModalOpen({ title, src, youtubeId }) {\r\n    setVideoModalData({ title, src, youtubeId });\r\n    setIsVideoModalOpened(true);\r\n    setPlayerState(false);\r\n  }\r\n\r\n  function onVideoModalClose() {\r\n    setIsVideoModalOpened(false);\r\n  }\r\n\r\n  /* Для десктопов: плеер выезжает через 3 секунды после загрузки страницы.\r\n  Для отключения закомментить этот useEffect и стейт isDesktop */\r\n  useEffect(() => {\r\n    if (isDesktop) {\r\n      setPlayerExtendTimer(\r\n        setTimeout(() => {\r\n          setPlayerState(true);\r\n        }, 3000)\r\n      );\r\n    }\r\n  }, [isDesktop]);\r\n\r\n  /* Для десктопов: плеер выезжает через 3 секунды после загрузки страницы.\r\n  Отменяем выезд, если пользователь успел за это время раскрыть и скрыть плеер, либо\r\n  открыть модальное окно с youtube-плеером. \r\n  Для отключения закомментить этот useEffect и стейт playerExtendTimer */\r\n  useEffect(() => {\r\n    if (playerExtendTimer && (isPlayerExtend || isVideoModalOpened)) {\r\n      clearTimeout(playerExtendTimer);\r\n      setPlayerExtendTimer(0);\r\n    }\r\n  }, [isPlayerExtend, playerExtendTimer, isVideoModalOpened]);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__container\">\r\n        <Main\r\n          onPlayerExtend={onPlayerExtend}\r\n          isPlayerExtend={isPlayerExtend}\r\n          isLandscape={isLandscape}\r\n          isMobile={isMobile}\r\n          onSetCurrentTrack={setCurrentTrack}\r\n          currentTrack={currentTrack}\r\n          isVideoModalOpened={isVideoModalOpened}\r\n          onVideoModalOpen={onVideoModalOpen}\r\n          // v3\r\n          refanalyzerCanvas={analyzerCanvas}\r\n        />\r\n        <Info />\r\n        <Footer\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n        />\r\n        <Background\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n          backgroundBlur={backgroundBlur}\r\n          currentTrack={currentTrack}\r\n        />\r\n        <Blur\r\n          isPlayerExtend={isPlayerExtend}\r\n          isMobile={isMobile}\r\n          isLandscape={isLandscape}\r\n        />\r\n        <VideoModal\r\n          videoModalData={videoModalData}\r\n          isVideoModalOpened={isVideoModalOpened}\r\n          onVideoModalClose={onVideoModalClose}\r\n        />\r\n        <VisualizerCanvas\r\n          isMobile={isMobile}\r\n          isLandscape={isLandscape}\r\n          isPlaying={true}\r\n          track={currentTrack}\r\n          refanalyzerCanvas={analyzerCanvas}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}